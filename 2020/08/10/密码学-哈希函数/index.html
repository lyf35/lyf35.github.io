<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.2">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#222">
  <link rel="manifest" href="/images/site.webmanifest">
  <meta name="msapplication-config" content="/images/browserconfig.xml">
  <meta name="msvalidate.01" content="<meta name="msvalidate.01" content="5D3796A5DDB32CC875380613FB613833" />">
  <meta name="baidu-site-verification" content="<meta name="baidu-site-verification" content="kewHZtFYQk" />">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Helvetica:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  
  <link rel="stylesheet" href="/lib/animate-css/animate.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/pace-js@1/themes/blue/pace-theme-flat-top.min.css">
  <script src="//cdn.jsdelivr.net/npm/pace-js@1/pace.min.js"></script>

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"lyf35.github.io","root":"/","scheme":"Pisces","version":"8.0.0-rc.5","exturl":true,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":true,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":"gitalk","storage":true,"lazyload":false,"nav":{"gitalk":{"order":-2}},"activeClass":"gitalk"},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"path":"search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}};
  </script>

  <meta name="description" content="Basic concepts Definition A hash function (with output length \(\ell\)) is a pair of probabilistic polynomial-time algorithms \((Gen,H)\) satisfying the following:  \(Gen\) is a probabilistic algorith">
<meta property="og:type" content="article">
<meta property="og:title" content="密码学-哈希函数">
<meta property="og:url" content="http://lyf35.github.io/2020/08/10/%E5%AF%86%E7%A0%81%E5%AD%A6-%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0/index.html">
<meta property="og:site_name" content="Yufei Luo&#39;s Blog">
<meta property="og:description" content="Basic concepts Definition A hash function (with output length \(\ell\)) is a pair of probabilistic polynomial-time algorithms \((Gen,H)\) satisfying the following:  \(Gen\) is a probabilistic algorith">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://raw.githubusercontent.com/lyf35/blog_figures/main/img/20201105002747.png">
<meta property="og:image" content="https://raw.githubusercontent.com/lyf35/blog_figures/main/img/20201105002758.png">
<meta property="article:published_time" content="2020-08-10T12:42:49.000Z">
<meta property="article:modified_time" content="2020-08-30T14:14:54.000Z">
<meta property="article:author" content="Yufei Luo">
<meta property="article:tag" content="信息安全">
<meta property="article:tag" content="密码学">
<meta property="article:tag" content="计算机基础">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://raw.githubusercontent.com/lyf35/blog_figures/main/img/20201105002747.png">

<link rel="canonical" href="http://lyf35.github.io/2020/08/10/%E5%AF%86%E7%A0%81%E5%AD%A6-%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0/">


<script data-pjax class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>密码学-哈希函数 | Yufei Luo's Blog</title>
  






  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --></head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
 <!--   <div class="headband"></div>-->

    <main class="main">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader">
        <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Yufei Luo's Blog</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">But I was so much older then, I am younger than that now.</p>
      <img class="custom-logo-image" src="/images/logo.png" alt="Yufei Luo's Blog">
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-计算机基础">

    <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80" rel="section"><i class="fa fa-tags fa-fw"></i>计算机基础</a>

  </li>
        <li class="menu-item menu-item-机器学习">

    <a href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0" rel="section"><i class="fa fa-tags fa-fw"></i>机器学习</a>

  </li>
        <li class="menu-item menu-item-深度学习">

    <a href="/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0" rel="section"><i class="fa fa-tags fa-fw"></i>深度学习</a>

  </li>
        <li class="menu-item menu-item-工程实践">

    <a href="/categories/%E5%B7%A5%E7%A8%8B%E5%AE%9E%E8%B7%B5" rel="section"><i class="fa fa-tags fa-fw"></i>工程实践</a>

  </li>
        <li class="menu-item menu-item-论文笔记">

    <a href="/categories/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0" rel="section"><i class="fa fa-tags fa-fw"></i>论文笔记</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-commonweal">

    <a href="/404" rel="section"><i class="fa fa-heartbeat fa-fw"></i>公益 404</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <section class="post-toc-wrap sidebar-panel">
          <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#basic-concepts"><span class="nav-number">1.</span> <span class="nav-text">Basic concepts</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#definition"><span class="nav-number">1.1.</span> <span class="nav-text">Definition</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#collision-resistance"><span class="nav-number">1.2.</span> <span class="nav-text">Collision resistance</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#unkeyed-hash-functions"><span class="nav-number">1.3.</span> <span class="nav-text">Unkeyed hash functions</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#weaker-notions-of-security"><span class="nav-number">1.4.</span> <span class="nav-text">Weaker notions of security</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#domain-extension-the-merkle-damgard-transform"><span class="nav-number">2.</span> <span class="nav-text">Domain extension: the Merkle-Damgard transform</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#message-authentication-using-hash-functions"><span class="nav-number">3.</span> <span class="nav-text">Message authentication using hash functions</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#hash-and-mac"><span class="nav-number">3.1.</span> <span class="nav-text">Hash-and-MAC</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#hmac"><span class="nav-number">3.2.</span> <span class="nav-text">HMAC</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#generic-attacks-on-hash-functions"><span class="nav-number">4.</span> <span class="nav-text">Generic attacks on hash functions</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#birthday-attacks"><span class="nav-number">4.1.</span> <span class="nav-text">Birthday attacks</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#small-space-birthday-attacks"><span class="nav-number">4.2.</span> <span class="nav-text">Small-space birthday attacks</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#additional-application-of-hash-functions"><span class="nav-number">5.</span> <span class="nav-text">Additional application of hash functions</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#practical-applications"><span class="nav-number">6.</span> <span class="nav-text">Practical applications</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#hash-function-from-block-ciphers"><span class="nav-number">6.1.</span> <span class="nav-text">Hash function from block ciphers</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#md5"><span class="nav-number">6.2.</span> <span class="nav-text">MD5</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#sha-family"><span class="nav-number">6.3.</span> <span class="nav-text">SHA family</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#references"><span class="nav-number">7.</span> <span class="nav-text">References</span></a></li></ol></div>
      </section>
      <!--/noindex-->

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Yufei Luo"
      src="/images/avatar.jpeg">
  <p class="site-author-name" itemprop="name">Yufei Luo</p>
  <div class="site-description" itemprop="description">哪怕什么真理无穷，进一寸有进一寸的欢喜</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
        
          <span class="site-state-item-count">90</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories">
          
        <span class="site-state-item-count">24</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags">
          
        <span class="site-state-item-count">30</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2x5ZjM1" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;lyf35"><i class="fab fa-github fa-fw"></i>GitHub</span>
      </span>
      <span class="links-of-author-item">
        <span class="exturl" data-url="bWFpbHRvOmx5ZjEyMzQwMDAwMDBAMTYzLmNvbQ==" title="E-Mail → mailto:lyf1234000000@163.com"><i class="fa fa-envelope fa-fw"></i>E-Mail</span>
      </span>
  </div>
  <div class="cc-license animated" itemprop="license">
    <span class="exturl cc-opacity" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></span>
  </div>



      </section>
        <div class="back-to-top animated">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </header>

      
  <div class="reading-progress-bar"></div>

  <span class="exturl github-corner" data-url="aHR0cHM6Ly9naXRodWIuY29tL2x5ZjM1" title="Follow me on GitHub" aria-label="Follow me on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></span>

<noscript>
  <div id="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


      <div class="main-inner">
        

        <div class="content post posts-expand">
          

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://lyf35.github.io/2020/08/10/%E5%AF%86%E7%A0%81%E5%AD%A6-%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="Yufei Luo">
      <meta itemprop="description" content="哪怕什么真理无穷，进一寸有进一寸的欢喜">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yufei Luo's Blog">
    </span>

    
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          密码学-哈希函数
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-08-10 20:42:49" itemprop="dateCreated datePublished" datetime="2020-08-10T20:42:49+08:00">2020-08-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-30 22:14:54" itemprop="dateModified" datetime="2020-08-30T22:14:54+08:00">2020-08-30</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%90%86%E8%AE%BA%E7%9F%A5%E8%AF%86/" itemprop="url" rel="index"><span itemprop="name">理论知识</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%90%86%E8%AE%BA%E7%9F%A5%E8%AF%86/%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8/" itemprop="url" rel="index"><span itemprop="name">信息安全</span></a>
                </span>
            </span>

          
            <span id="/2020/08/10/%E5%AF%86%E7%A0%81%E5%AD%A6-%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0/" class="post-meta-item leancloud_visitors" data-flag-title="密码学-哈希函数" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span><br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>9.2k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>8 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h1 id="basic-concepts">Basic concepts</h1>
<h2 id="definition">Definition</h2>
<p>A <strong>hash function</strong> (with output length <span class="math inline">\(\ell\)</span>) is a pair of probabilistic polynomial-time algorithms <span class="math inline">\((Gen,H)\)</span> satisfying the following:</p>
<ul>
<li><span class="math inline">\(Gen\)</span> is a probabilistic algorithm that takes as input a security parameter <span class="math inline">\(1^n\)</span> and outputs a key <span class="math inline">\(s\)</span>. We assume that <span class="math inline">\(1^n\)</span> is implicit in <span class="math inline">\(s\)</span>.</li>
<li><span class="math inline">\(H\)</span> takes as input a key <span class="math inline">\(s\)</span> and a string <span class="math inline">\(x\in \{0,1\}^*\)</span> and outputs a string <span class="math inline">\(H^{s}(x)\in \{0,1\}^{\ell(n)}\)</span> (<span class="math inline">\(n\)</span> is the security parameter implicit in <span class="math inline">\(s\)</span>).</li>
</ul>
<p>In general case, the function takes as input strings of arbitrary length. If <span class="math inline">\(H^s\)</span> is defined only for inputs <span class="math inline">\(x\in\{0,1\}^{\ell &#39;(n)}\)</span> and <span class="math inline">\(\ell &#39;(n)&gt;\ell(n)\)</span>, then we say that <span class="math inline">\((Gen,H)\)</span> is a fixed-length hash function for inputs of length <span class="math inline">\(\ell &#39;\)</span>. In this case, <span class="math inline">\(H\)</span> is also called a <em>compression function</em>. <span id="more"></span></p>
<h2 id="collision-resistance">Collision resistance</h2>
<p>First we define an collision-finding experiment <span class="math inline">\(Hash-coll_{\mathcal{A},\pi}(n)\)</span> for a hash function <span class="math inline">\(\Pi=(Gen,H)\)</span>, an adversary <span class="math inline">\(\mathcal{A}\)</span> and a security parameter <span class="math inline">\(n\)</span>:</p>
<ol type="1">
<li>A key <span class="math inline">\(s\)</span> is generated by running <span class="math inline">\(Gen(1^n)\)</span>.</li>
<li>The adversary <span class="math inline">\(\mathcal{A}\)</span> is given <span class="math inline">\(s\)</span> and outputs <span class="math inline">\(x,x&#39;\)</span>.</li>
<li>The output of the experiment is defined to be 1 if and only if <span class="math inline">\(x\ne x&#39;\)</span> and <span class="math inline">\(H^s(x)=H^s(x&#39;)\)</span>. In such a case we say that <span class="math inline">\(\mathcal{A}\)</span> has found a collision.</li>
</ol>
<p>A hash function <span class="math inline">\(\Pi=(Gen,H)\)</span> is collision resistant if for all probabilistic polynomial-time adversaries <span class="math inline">\(\mathcal{A}\)</span> there is a negligible function <span class="math inline">\(negl\)</span> such that <span class="math display">\[
Pr[Hash-coll_{\mathcal{A},\pi}(n)=1]\le negl(n)
\]</span></p>
<h2 id="unkeyed-hash-functions">Unkeyed hash functions</h2>
<p>Cryptographic hash functions used in practice generally have a fixed output length and are usually unkeyed, meaning that the hash function is just a fixed function <span class="math inline">\(H:\{0,1\}^*\rightarrow \{0,1\}^\ell\)</span>. Although this is problematic theoretically since <span class="math inline">\(H\)</span> must have a collision pair, the unkeyed cryptographic hash functions used in the real world are collision resistant for all practical purposes. It is due to the fact that colliding pairs are unknown and computationally difficult to find even though they must exist.</p>
<p>In proofs of security for the construction based on collision resistance of a hash function, we just assume that any efficient ways to find a collision in <span class="math inline">\(H\)</span> can be used by the adversaries.</p>
<h2 id="weaker-notions-of-security">Weaker notions of security</h2>
<p>In some applications, it suffices to rely on security requirements weaker than collision resistance. These include:</p>
<ul>
<li><strong>Second-preimage or target-collision resistance</strong>: if given <span class="math inline">\(s\)</span> and a uniform <span class="math inline">\(x\)</span>, it is infeasible for a PPT adversary to find <span class="math inline">\(x&#39;\ne x\)</span> such that <span class="math inline">\(H^s(x&#39;)=H^s(x)\)</span>. Any hash function that is collision resistant is also second preimage resistant.</li>
<li><strong>Preimage resistance</strong>: if given <span class="math inline">\(s\)</span> and a uniform <span class="math inline">\(y\)</span>, it is infeasible for a PPT adversary to find a value <span class="math inline">\(x\)</span> such that <span class="math inline">\(H^s(x)=y\)</span> (this essentially means that <span class="math inline">\(H^s\)</span> is one-way).</li>
</ul>
<h1 id="domain-extension-the-merkle-damgard-transform">Domain extension: the Merkle-Damgard transform</h1>
<p>Hash functions are often constructed by first designing a collision-resistant compression function handling fixed-length inputs, and then using domain extension to handle arbitrary-length inputs. The Merkle-Damgard transform is a common approach for extending a compression function to a full-fledged hash function, while maintaining the collision-resistance property of the former.</p>
<p>Let <span class="math inline">\((Gen,h)\)</span> be a fixed-length hash function for inputs of length <span class="math inline">\(2n\)</span> and with output length <span class="math inline">\(n\)</span>. Construct hash function <span class="math inline">\((Gen,H)\)</span> as follows:</p>
<ul>
<li><span class="math inline">\(Gen\)</span>: a probabilistic algorithm that takes as input a security parameter <span class="math inline">\(1^n\)</span> and outputs a key <span class="math inline">\(s\)</span></li>
<li><span class="math inline">\(H\)</span>: on input a key <span class="math inline">\(s\)</span> and a string <span class="math inline">\(x\in \{0,1\}^*\)</span> of length <span class="math inline">\(L&lt;2^n\)</span>, do the following:
<ol type="1">
<li>Set <span class="math inline">\(B=\lceil \frac{L}{n}\rceil\)</span> (i.e., the number of blocks in <span class="math inline">\(x\)</span>). Pad <span class="math inline">\(x\)</span> with zeros so its length is a multiple of <span class="math inline">\(n\)</span>. Parse the padded result as the sequence of n-bit blocks <span class="math inline">\(x_1,\dots,x_B\)</span>. Set <span class="math inline">\(x_{B+1}=L\)</span>, where <span class="math inline">\(L\)</span> is encoded as an n-bit string.</li>
<li>Set <span class="math inline">\(z_0=0^n\)</span> (this is also called the IV).</li>
<li>For <span class="math inline">\(i=1,\dots,B+1\)</span>, compute <span class="math inline">\(z_i=h^s(z_{i-1}||x_i)\)</span>.</li>
<li>Output <span class="math inline">\(z_{B+1}\)</span>.</li>
</ol></li>
</ul>
<p>The above construction is illustrated as the following figure:</p>
<p><img data-src="https://raw.githubusercontent.com/lyf35/blog_figures/main/img/20201105002747.png" alt="image-20201019225205206" style="zoom: 33%;" /></p>
<h1 id="message-authentication-using-hash-functions">Message authentication using hash functions</h1>
<h2 id="hash-and-mac">Hash-and-MAC</h2>
<p>Let <span class="math inline">\(\Pi=(Mac,Vrfy)\)</span> be a MAC for messages of length <span class="math inline">\(\ell(n)\)</span>, and let <span class="math inline">\(\Pi_H=(Gen_H,H)\)</span> be a hash function with output length <span class="math inline">\(\ell(n)\)</span>. Construct a MAC <span class="math inline">\(\Pi&#39;=(Gen&#39;,Mac&#39;,Vrfy&#39;)\)</span> for arbitrary-length messages as follows:</p>
<ul>
<li><span class="math inline">\(Gen&#39;\)</span>: on input <span class="math inline">\(1^n\)</span>, choose uniform <span class="math inline">\(k\in \{0,1\}^n\)</span> and run <span class="math inline">\(Gen_{H}(1^n)\)</span> to obtain <span class="math inline">\(s\)</span>; the key is <span class="math inline">\(k&#39;=&lt;k,s&gt;\)</span>.</li>
<li><span class="math inline">\(Mac&#39;\)</span>: on input a key <span class="math inline">\(&lt;k,s&gt;\)</span> and a message <span class="math inline">\(m\in \{0,1\}^*\)</span>, output <span class="math inline">\(t\leftarrow Mac_k(H^s(m))\)</span>.</li>
<li><span class="math inline">\(Vrfy&#39;\)</span>: on input a key <span class="math inline">\(&lt;k,s&gt;\)</span>, a message <span class="math inline">\(m\in \{0,1\}^*\)</span>, and a MAC tag <span class="math inline">\(t\)</span>, output 1 if and only if <span class="math inline">\(Vrfy_k(H^s(m),t)=1\)</span>.</li>
</ul>
<p>If <span class="math inline">\(\Pi\)</span> is a secure MAC for messages of length <span class="math inline">\(\ell\)</span> and <span class="math inline">\(\Pi_H\)</span> is collision resistant, then the above construction is a secure MAC for arbitrary-length messages.</p>
<h2 id="hmac">HMAC</h2>
<p>If <span class="math inline">\(H\)</span> is constructed using the Merkle-Damgard transform (and the most real-world hash functions are), then a MAC designed in this way is completely insecure (why?). Instead, two layers of hashing is used.</p>
<p>Let <span class="math inline">\((Gen_H,H)\)</span> be a hash function constructed by applying the Merkle-Damgard transform to a compression function <span class="math inline">\((Gen_H,h)\)</span> taking inputs of length <span class="math inline">\(n+n&#39;\)</span>. Let <span class="math inline">\(ipad\)</span> and <span class="math inline">\(opad\)</span> be fixed constants of length <span class="math inline">\(n&#39;\)</span>. Define a MAC as follows:</p>
<ul>
<li><span class="math inline">\(Gen\)</span>: on input <span class="math inline">\(1^n\)</span>, run <span class="math inline">\(Gen_H(1^n)\)</span> to obtain a key <span class="math inline">\(s\)</span>. Also choose uniform <span class="math inline">\(k\in \{0,1\}^{n&#39;}\)</span>. Output the key <span class="math inline">\(&lt;s,k&gt;\)</span>.</li>
<li><span class="math inline">\(Mac\)</span>: on input a key <span class="math inline">\(&lt;s,k&gt;\)</span> and a message <span class="math inline">\(m\in \{0,1\}^*\)</span>, output <span class="math inline">\(t:=H^s((k~xor~opad)||H^s((k~xor~ipad)||m))\)</span>.</li>
<li><span class="math inline">\(Vrfy\)</span>: on input a key <span class="math inline">\(&lt;s,k&gt;\)</span>, a message <span class="math inline">\(m\in \{0,1\}^*\)</span>, and a tag <span class="math inline">\(t\)</span>, output 1 if and only if <span class="math inline">\(t=H^s((k~xor~opad)||H^s((k~xor~ipad)||m))\)</span>.</li>
</ul>
<p>The HMAC construction is illustrated as the following figure:</p>
<p><img data-src="https://raw.githubusercontent.com/lyf35/blog_figures/main/img/20201105002758.png" alt="image-20201019225435750" style="zoom: 50%;" /></p>
<h1 id="generic-attacks-on-hash-functions">Generic attacks on hash functions</h1>
<h2 id="birthday-attacks">Birthday attacks</h2>
<p>The collision-finding algorithm we have described is often called a birthday attack.The birthday problem is the following: if <span class="math inline">\(q\)</span> people are in a room, what is the probability that two of them have the same birthday? (Assume birthdays are uniformly and independently distributed among the 365 days of a non-leap year.)</p>
<p>For <span class="math inline">\(y_1,\dots,y_q\)</span> chosen uniformly in <span class="math inline">\(\{1,\dots,N\}\)</span>, the probability of a collision is roughly 1/2 when <span class="math inline">\(q=\Theta(N^{1/2})\)</span>. So, for a hash function to resist collision-finding attacks that run in time <span class="math inline">\(T\)</span>, the output length of the hash function needs to be at least <span class="math inline">\(2\log T\)</span> bits.</p>
<h2 id="small-space-birthday-attacks">Small-space birthday attacks</h2>
<p>The small-space birthday attack has similar time complexity and success probability as birthday attacks, but require drastically reduced memory requirements (use constant memory). The attack begins by choosing a random value <span class="math inline">\(x_0\)</span> and then computing <span class="math inline">\(x_i:=H(x_{i-1})\)</span> and <span class="math inline">\(x_{2i}:=H(H(x_{2(i-1)}))\)</span> for <span class="math inline">\(i=1,2,\dots\)</span>. In each step the values <span class="math inline">\(x_i\)</span> and <span class="math inline">\(x_{2i}\)</span> are compared; if they are equal then there is a collision somewhere in the sequence <span class="math inline">\(x_0,x_1,\dots,x_{2i-1}\)</span>.</p>
<h1 id="additional-application-of-hash-functions">Additional application of hash functions</h1>
<ul>
<li><p>Fingerprinting &amp; Deduplication:</p>
<p>When using a collision-resistant hash function <span class="math inline">\(H\)</span>, the hash of a file <span class="math inline">\(H(x)\)</span> can be used as a unique identifier of the file <span class="math inline">\(x\)</span>. One can check the hashes of two files to determine whether they are equal. This idea is used in many applications like virus fingerprinting, file deduplication, P2P file sharing, etc.</p></li>
<li><p>Password hashing:</p>
<p>The user's passward <span class="math inline">\(pw\)</span> is stored by a hash of the password <span class="math inline">\(H(pw)\)</span> instead of a password itself. To prevent exhaustive decryption from an attacker, one way is to use "slow" hash functions (i.e., compute <span class="math inline">\(H^{I}(pw)\)</span> for <span class="math inline">\(I&gt;&gt;1\)</span>), and another way is to introduce a salt (i.e., a long random value <span class="math inline">\(s\)</span> unique to the user)</p></li>
<li><p>Key derivation:</p>
<p>A key-derivation function provides a way to obtain a uniformly distributed string from any distribution with high (computational) min-entropy.</p></li>
<li><p>Commitment scheme:</p>
<p>A commitment scheme allows one party to “commit” to a message <span class="math inline">\(m\)</span> by sending a commitment value <span class="math inline">\(com\)</span>, with <span class="math inline">\(com\)</span> reveals nothing about <span class="math inline">\(m\)</span> and <span class="math inline">\(com\)</span> cannot later “open” as two different messages. To commit to a message <span class="math inline">\(m\)</span>, the sender chooses uniform <span class="math inline">\(r \in \{0, 1\}^n\)</span> and outputs <span class="math inline">\(com := H(m||r)\)</span>.</p></li>
</ul>
<h1 id="practical-applications">Practical applications</h1>
<h2 id="hash-function-from-block-ciphers">Hash function from block ciphers</h2>
<p>It is possible to build a collision-resistant compression function from a block cipher. One of the most common ways is via the Davies-Meyer construction.</p>
<p>Let <span class="math inline">\(F\)</span> be a block cipher with <span class="math inline">\(n\)</span>-bit key length and <span class="math inline">\(\ell\)</span>-bit block length. The compression function <span class="math inline">\(h:\{0,1\}^{n+\ell}\rightarrow \{0,1\}^{\ell}\)</span> is defined as <span class="math inline">\(h(k,x)=F_{k}(x)\oplus x\)</span>.</p>
<p>If <span class="math inline">\(F\)</span> is modeled as <em>an ideal cipher</em>, then the Davies–Meyer construction yields a collision-resistant compression function. However, when instantiating the Davies-Meyer construction with concrete block ciphers, the ciphers should be designed specially for this purpose (block ciphers designed for encryption like DES and AES should not be used).</p>
<h2 id="md5">MD5</h2>
<p>MD5 is a hash function with a 128-bit output length. Today, the collisions in MD5 can be found within one minute. So MD5 should not be used anywhere cryptographic security is needed.</p>
<p>The detail of MD5 algorithm can refer to:</p>
<ul>
<li>https://www.zhihu.com/question/278134292</li>
<li>https://blog.csdn.net/goodnameused/article/details/81068697</li>
</ul>
<h2 id="sha-family">SHA family</h2>
<p>The Secure Hash Algorithm (SHA) refers to a series of cryptographic hash functions standardized by NIST.</p>
<p>SHA-1 has a 160-bit output length. Theoretical analysis over the past few years indicates that collisions in SHA-1 can be found using significantly fewer than the <span class="math inline">\(2^{80}\)</span> hash-function evaluations, and it is conjectured that a collision will be found soon. So it is recommended to be replaced by more secure hash algorithms. The details of SHA-1 can refer to: https://blog.csdn.net/cmqwan/article/details/82414954</p>
<p>SHA-2 is a group of hash functions includes SHA-224, SHA-256, SHA-384, SHA-512, etc. SHA-2 is recommended to use in applications. The principle of SHA-256 can refer to: https://blog.csdn.net/jerry81333/article/details/78566418.</p>
<p>SHA-3(Keccak) was chosen as the next-generation replacement of SHA-2. The structure of SHA-3 is very different from SHA-1 and SHA-2. Refer to the following pages for details: https://blog.csdn.net/chengqiuming/article/details/82819769, https://blog.csdn.net/BlackNight168/article/details/82952489</p>
<h1 id="references">References</h1>
<ol type="1">
<li>Introduction to Modern Cryptography, Second Edition.</li>
<li>Understanding Cryptography: A Textbook for Students and Practitioners (Chinese Version).</li>
</ol>

    </div>

    
    
    
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>Yufei Luo
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="http://lyf35.github.io/2020/08/10/%E5%AF%86%E7%A0%81%E5%AD%A6-%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0/" title="密码学-哈希函数">http://lyf35.github.io/2020/08/10/密码学-哈希函数/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</span> 许可协议。转载请注明出处！
  </li>
</ul>
</div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8/" rel="tag"><i class="fa fa-tag"></i> 信息安全</a>
              <a href="/tags/%E5%AF%86%E7%A0%81%E5%AD%A6/" rel="tag"><i class="fa fa-tag"></i> 密码学</a>
              <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/" rel="tag"><i class="fa fa-tag"></i> 计算机基础</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/08/05/%E5%AF%86%E7%A0%81%E5%AD%A6-%E6%B6%88%E6%81%AF%E9%AA%8C%E8%AF%81%E7%A0%81/" rel="prev" title="密码学-消息验证码">
      <i class="fa fa-chevron-left"></i> 密码学-消息验证码
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/08/30/%E5%AF%86%E7%A0%81%E5%AD%A6-%E5%85%AC%E9%92%A5%E5%8A%A0%E5%AF%86/" rel="next" title="密码学-公钥加密">
      密码学-公钥加密 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



        </div>
        
    <div class="comments" id="gitalk-container"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2020 – 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Yufei Luo</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
      <span class="post-meta-item-text">站点总字数：</span>
    <span title="站点总字数">1.5m</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">22:56</span>
</div>
  <div class="powered-by">由 <span class="exturl theme-link" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & <span class="exturl theme-link" data-url="aHR0cHM6Ly90aGVtZS1uZXh0LmpzLm9yZy9waXNjZXMv">NexT.Pisces</span> 强力驱动
  </div>

        






<script data-pjax>
  (function() {
    function leancloudSelector(url) {
      url = encodeURI(url);
      return document.getElementById(url).querySelector('.leancloud-visitors-count');
    }

    function addCount(Counter) {
      const visitors = document.querySelector('.leancloud_visitors');
      const url = decodeURI(visitors.id);
      const title = visitors.dataset.flagTitle;

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url })))
        .then(response => response.json())
        .then(({ results }) => {
          if (results.length > 0) {
            const counter = results[0];
            leancloudSelector(url).innerText = counter.time + 1;
            Counter('put', '/classes/Counter/' + counter.objectId, { time: { '__op': 'Increment', 'amount': 1 } })
              .catch(error => {
                console.error('Failed to save visitor count', error);
              });
          } else {
              Counter('post', '/classes/Counter', { title, url, time: 1 })
                .then(response => response.json())
                .then(() => {
                  leancloudSelector(url).innerText = 1;
                })
                .catch(error => {
                  console.error('Failed to create', error);
                });
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    function showTime(Counter) {
      const visitors = document.querySelectorAll('.leancloud_visitors');
      const entries = [...visitors].map(element => {
        return decodeURI(element.id);
      });

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url: { '$in': entries } })))
        .then(response => response.json())
        .then(({ results }) => {
          for (let url of entries) {
            let target = results.find(item => item.url === url);
            leancloudSelector(url).innerText = target ? target.time : 0;
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    let { app_id, app_key, server_url } = {"enable":true,"app_id":"ypNNXSdcGIIoldC5BBmViS2g-gzGzoHsz","app_key":"0TDwohU7eO4yHTn4tley8PtE","server_url":"https://leancloud.cn/dashboard/data.html?appid=ypNNXSdcGIIoldC5BBmViS2g-gzGzoHsz#/","security":false};
    function fetchData(api_server) {
      const Counter = (method, url, data) => {
        return fetch(`${api_server}/1.1${url}`, {
          method,
          headers: {
            'X-LC-Id'     : app_id,
            'X-LC-Key'    : app_key,
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data)
        });
      };
      if (CONFIG.page.isPost) {
        if (CONFIG.hostname !== location.hostname) return;
        addCount(Counter);
      } else if (document.querySelectorAll('.post-title-link').length >= 1) {
        showTime(Counter);
      }
    }

    const api_server = app_id.slice(-9) !== '-MdYXbMMI' ? server_url : `https://${app_id.slice(0, 8).toLowerCase()}.api.lncldglobal.com`;

    if (api_server) {
      fetchData(api_server);
    } else {
      fetch('https://app-router.leancloud.cn/2/route?appId=' + app_id)
        .then(response => response.json())
        .then(({ api_server }) => {
          fetchData('https://' + api_server);
        });
    }
  })();
</script>


      </div>
    </footer>
  </div>

  
  <script size="300" alpha="0.6" zIndex="-1" src="//cdn.jsdelivr.net/npm/ribbon.js@1/dist/ribbon.min.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/next-theme/pjax@0/pjax.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/medium-zoom@1/dist/medium-zoom.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/lozad@1/dist/lozad.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/pangu@4/dist/browser/pangu.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/next-boot.js"></script>

  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '.page-configurations',
    '.main-inner',
    '.post-toc-wrap',
    '.languages',
    '.pjax'
  ],
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

document.addEventListener('pjax:success', () => {
  pjax.executeScripts(document.querySelectorAll('script[data-pjax], .pjax script'));
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  const hasTOC = document.querySelector('.post-toc');
  document.querySelector('.sidebar-inner').classList.toggle('sidebar-nav-active', hasTOC);
  document.querySelector(hasTOC ? '.sidebar-nav-toc' : '.sidebar-nav-overview').click();
  NexT.utils.updateSidebarPosition();
});
</script>


  
  <script data-pjax>
    (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      bp.src = (curProtocol === 'https') ? 'https://zz.bdstatic.com/linksubmit/push.js' : 'http://push.zhanzhang.baidu.com/push.js';
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>




  
<script src="/js/local-search.js"></script>









<script data-pjax>
document.querySelectorAll('.pdfobject-container').forEach(element => {
  let url = element.dataset.target;
  let pdfOpenParams = {
    navpanes : 0,
    toolbar  : 0,
    statusbar: 0,
    pagemode : 'thumbs',
    view     : 'FitH'
  };
  let pdfOpenFragment = '#' + Object.entries(pdfOpenParams).map(([key, value]) => `${key}=${encodeURIComponent(value)}`).join('&');
  let fullURL = `/lib/pdf/web/viewer.html?file=${encodeURIComponent(url)}${pdfOpenFragment}`;

  if (NexT.utils.supportsPDFs()) {
    element.innerHTML = `<embed class="pdfobject" src="${url + pdfOpenFragment}" type="application/pdf" style="height: ${element.dataset.height};">`;
  } else {
    element.innerHTML = `<iframe src="${fullURL}" style="height: ${element.dataset.height};" frameborder="0"></iframe>`;
  }
});
</script>


<script data-pjax>
if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.init({
      theme    : 'forest',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    }, '.mermaid');
  }, window.mermaid);
}
</script>


    <div class="pjax">
  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      const script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css">

<script>
NexT.utils.loadComments('#gitalk-container', () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID    : '4dcdc02d24075b0e9d3a',
      clientSecret: '53cf2cb8b89b9d4bba922bb19bda1290f0d0bf95',
      repo        : 'lyf35.github.io',
      owner       : 'lyf35',
      admin       : ['lyf35'],
      id          : 'e1a496a94a125bb4b2c8b47dde0b2a95',
        language: 'zh-CN',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script>

    </div>
</body>
</html>
