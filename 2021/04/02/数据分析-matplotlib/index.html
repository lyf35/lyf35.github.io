<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.1.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#222">
  <link rel="manifest" href="/images/site.webmanifest">
  <meta name="msapplication-config" content="/images/browserconfig.xml">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Helvetica:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  
  <link rel="stylesheet" href="/lib/animate-css/animate.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/pace-js@1/themes/blue/pace-theme-flat-top.min.css">
  <script src="//cdn.jsdelivr.net/npm/pace-js@1/pace.min.js"></script>

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"lyf35.github.io","root":"/","scheme":"Pisces","version":"8.0.0-rc.5","exturl":true,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":true,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":"gitalk","storage":true,"lazyload":false,"nav":{"gitalk":{"order":-2}},"activeClass":"gitalk"},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"path":"search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}};
  </script>

  <meta name="description" content="简介  常用网址 官网主页：https:&#x2F;&#x2F;matplotlib.org&#x2F;stable&#x2F;index.html （文中一些函数的具体用法可以在这一页面内查找其详细用法） 教程：https:&#x2F;&#x2F;matplotlib.org&#x2F;stable&#x2F;tutorials&#x2F;index.html（提供了一些常见图像的绘图示例） 示例库：https:&#x2F;&#x2F;matplotlib.org&#x2F;stable&#x2F;gallery&#x2F;ind">
<meta property="og:type" content="article">
<meta property="og:title" content="数据分析-matplotlib">
<meta property="og:url" content="http://lyf35.github.io/2021/04/02/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90-matplotlib/index.html">
<meta property="og:site_name" content="Yufei Luo&#39;s Blog">
<meta property="og:description" content="简介  常用网址 官网主页：https:&#x2F;&#x2F;matplotlib.org&#x2F;stable&#x2F;index.html （文中一些函数的具体用法可以在这一页面内查找其详细用法） 教程：https:&#x2F;&#x2F;matplotlib.org&#x2F;stable&#x2F;tutorials&#x2F;index.html（提供了一些常见图像的绘图示例） 示例库：https:&#x2F;&#x2F;matplotlib.org&#x2F;stable&#x2F;gallery&#x2F;ind">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://raw.githubusercontent.com/lyf35/blog_figures/main/img/20210109161129.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/lyf35/blog_figures/main/img/20210109161141.png">
<meta property="og:image" content="https://raw.githubusercontent.com/lyf35/blog_figures/main/img/20210109161205.png">
<meta property="og:image" content="https://raw.githubusercontent.com/lyf35/blog_figures/main/img/20210109161214.png">
<meta property="og:image" content="https://raw.githubusercontent.com/lyf35/blog_figures/main/img/20210109161339.png">
<meta property="og:image" content="https://raw.githubusercontent.com/lyf35/blog_figures/main/img/20210109161429.png">
<meta property="og:image" content="https://raw.githubusercontent.com/lyf35/blog_figures/main/img/20210109161422.png">
<meta property="og:image" content="https://raw.githubusercontent.com/lyf35/blog_figures/main/img/20210109161441.png">
<meta property="og:image" content="https://raw.githubusercontent.com/lyf35/blog_figures/main/img/20210109161447.png">
<meta property="og:image" content="https://raw.githubusercontent.com/lyf35/blog_figures/main/img/20210109161500.png">
<meta property="og:image" content="https://raw.githubusercontent.com/lyf35/blog_figures/main/img/20210109161505.png">
<meta property="og:image" content="https://raw.githubusercontent.com/lyf35/blog_figures/main/img/20210109161517.png">
<meta property="og:image" content="https://raw.githubusercontent.com/lyf35/blog_figures/main/img/20210109161523.png">
<meta property="og:image" content="https://raw.githubusercontent.com/lyf35/blog_figures/main/img/20210109161530.png">
<meta property="og:image" content="https://raw.githubusercontent.com/lyf35/blog_figures/main/img/20210109161535.png">
<meta property="og:image" content="https://raw.githubusercontent.com/lyf35/blog_figures/main/img/20210109161549.png">
<meta property="og:image" content="https://raw.githubusercontent.com/lyf35/blog_figures/main/img/20210109161557.png">
<meta property="og:image" content="https://raw.githubusercontent.com/lyf35/blog_figures/main/img/20210109161605.png">
<meta property="og:image" content="https://raw.githubusercontent.com/lyf35/blog_figures/main/img/20210109170725.png">
<meta property="article:published_time" content="2021-04-02T01:04:11.244Z">
<meta property="article:modified_time" content="2021-04-02T01:04:11.244Z">
<meta property="article:author" content="Yufei Luo">
<meta property="article:tag" content="数据分析">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://raw.githubusercontent.com/lyf35/blog_figures/main/img/20210109161129.jpg">

<link rel="canonical" href="http://lyf35.github.io/2021/04/02/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90-matplotlib/">


<script data-pjax class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>数据分析-matplotlib | Yufei Luo's Blog</title>
  






  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
 <!--   <div class="headband"></div>-->

    <main class="main">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader">
        <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Yufei Luo's Blog</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">But I was so much older then, I am younger than that now.</p>
      <img class="custom-logo-image" src="/images/logo.png" alt="Yufei Luo's Blog">
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-commonweal">

    <a href="/404" rel="section"><i class="fa fa-heartbeat fa-fw"></i>公益 404</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <section class="post-toc-wrap sidebar-panel">
          <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AE%80%E4%BB%8B"><span class="nav-number">1.</span> <span class="nav-text"> 简介</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E7%BD%91%E5%9D%80"><span class="nav-number">1.1.</span> <span class="nav-text"> 常用网址</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9B%BE%E5%83%8F%E7%BB%93%E6%9E%84"><span class="nav-number">1.2.</span> <span class="nav-text"> 图像结构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E4%BD%9C%E5%9B%BE"><span class="nav-number">1.3.</span> <span class="nav-text"> 面向对象作图</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%9C%E5%9B%BE%E6%AD%A5%E9%AA%A4"><span class="nav-number">1.4.</span> <span class="nav-text"> 作图步骤</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E5%AE%B9%E5%99%A8%E7%B1%BB%E5%AF%B9%E8%B1%A1"><span class="nav-number">1.4.1.</span> <span class="nav-text"> 创建容器类对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0%E5%9F%BA%E7%A1%80%E7%B1%BB%E5%AF%B9%E8%B1%A1"><span class="nav-number">1.4.2.</span> <span class="nav-text"> 添加基础类对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9B%BE%E5%83%8F%E7%BE%8E%E5%8C%96"><span class="nav-number">1.4.3.</span> <span class="nav-text"> 图像美化</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%9D%E5%AD%98%E5%9B%BE%E5%83%8F"><span class="nav-number">1.4.4.</span> <span class="nav-text"> 保存图像</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%9B%BE%E5%83%8F%E6%A0%BC%E5%BC%8F"><span class="nav-number">2.</span> <span class="nav-text"> 图像格式</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%89%B2%E5%BD%A9"><span class="nav-number">2.1.</span> <span class="nav-text"> 色彩</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%89%B2%E5%BD%A9%E8%A1%A8%E7%A4%BA"><span class="nav-number">2.1.1.</span> <span class="nav-text"> 色彩表示</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#colormap"><span class="nav-number">2.1.2.</span> <span class="nav-text"> colormap</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%89%B2%E5%BD%A9%E5%BE%AA%E7%8E%AF"><span class="nav-number">2.1.3.</span> <span class="nav-text"> 色彩循环</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BA%BF%E5%BD%A2%E4%B8%8E%E7%BA%BF%E5%AE%BD"><span class="nav-number">2.2.</span> <span class="nav-text"> 线形与线宽</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A0%87%E8%AE%B0"><span class="nav-number">2.3.</span> <span class="nav-text"> 标记</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%96%87%E6%9C%AC"><span class="nav-number">2.4.</span> <span class="nav-text"> 文本</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%BB%98%E5%9B%BE%E7%A4%BA%E4%BE%8B"><span class="nav-number">3.</span> <span class="nav-text"> 绘图示例</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9B%B2%E7%BA%BF%E5%9B%BE"><span class="nav-number">3.1.</span> <span class="nav-text"> 曲线图</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BC%AA%E5%BD%A9%E8%89%B2%E5%9B%BE%E4%B8%8E%E8%BD%AE%E5%BB%93%E5%9B%BE"><span class="nav-number">3.2.</span> <span class="nav-text"> 伪彩色图与轮廓图</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9B%B4%E6%96%B9%E5%9B%BE"><span class="nav-number">3.3.</span> <span class="nav-text"> 直方图</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%89%E7%BB%B4%E5%9B%BE"><span class="nav-number">3.4.</span> <span class="nav-text"> 三维图</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B5%81%E5%BD%A2%E5%9B%BE"><span class="nav-number">3.5.</span> <span class="nav-text"> 流形图</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9D%A1%E5%BD%A2%E5%9B%BE"><span class="nav-number">3.6.</span> <span class="nav-text"> 条形图</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%A5%BC%E5%9B%BE"><span class="nav-number">3.7.</span> <span class="nav-text"> 饼图</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%A3%E7%82%B9%E5%9B%BE"><span class="nav-number">3.8.</span> <span class="nav-text"> 散点图</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AF%B9%E6%95%B0%E5%9D%90%E6%A0%87"><span class="nav-number">3.9.</span> <span class="nav-text"> 对数坐标</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9E%81%E5%9D%90%E6%A0%87"><span class="nav-number">3.10.</span> <span class="nav-text"> 极坐标</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%9B%B8%E5%85%B3%E7%BB%98%E5%9B%BE%E5%B7%A5%E5%85%B7"><span class="nav-number">4.</span> <span class="nav-text"> 相关绘图工具</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#seaborn"><span class="nav-number">4.1.</span> <span class="nav-text"> Seaborn</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9C%B0%E7%90%86%E7%BB%98%E5%9B%BE"><span class="nav-number">4.2.</span> <span class="nav-text"> 地理绘图</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8F%82%E8%80%83"><span class="nav-number">5.</span> <span class="nav-text"> 参考</span></a></li></ol></div>
      </section>
      <!--/noindex-->

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Yufei Luo"
      src="/images/avatar.jpeg">
  <p class="site-author-name" itemprop="name">Yufei Luo</p>
  <div class="site-description" itemprop="description">一个材料专业毕业的野生程序员的个人博客</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
        
          <span class="site-state-item-count">55</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories">
          
        <span class="site-state-item-count">21</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags">
          
        <span class="site-state-item-count">19</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2x5ZjM1" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;lyf35"><i class="fab fa-github fa-fw"></i>GitHub</span>
      </span>
      <span class="links-of-author-item">
        <span class="exturl" data-url="bWFpbHRvOmx5ZjEyMzQwMDAwMDBAMTYzLmNvbQ==" title="E-Mail → mailto:lyf1234000000@163.com"><i class="fa fa-envelope fa-fw"></i>E-Mail</span>
      </span>
  </div>
  <div class="cc-license animated" itemprop="license">
    <span class="exturl cc-opacity" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></span>
  </div>



      </section>
        <div class="back-to-top animated">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </header>

      
  <div class="reading-progress-bar"></div>

  <span class="exturl github-corner" data-url="aHR0cHM6Ly9naXRodWIuY29tL2x5ZjM1" title="Follow me on GitHub" aria-label="Follow me on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></span>

<noscript>
  <div id="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


      <div class="main-inner">
        

        <div class="content post posts-expand">
          

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://lyf35.github.io/2021/04/02/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90-matplotlib/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="Yufei Luo">
      <meta itemprop="description" content="一个材料专业毕业的野生程序员的个人博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yufei Luo's Blog">
    </span>

    
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          数据分析-matplotlib
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-04-02 09:04:11" itemprop="dateCreated datePublished" datetime="2021-04-02T09:04:11+08:00">2021-04-02</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/" itemprop="url" rel="index"><span itemprop="name">数据分析</span></a>
                </span>
            </span>

          
            <span id="/2021/04/02/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90-matplotlib/" class="post-meta-item leancloud_visitors" data-flag-title="数据分析-matplotlib" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span><br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>19k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>17 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h1 id="简介"><a class="markdownIt-Anchor" href="#简介"></a> 简介</h1>
<h2 id="常用网址"><a class="markdownIt-Anchor" href="#常用网址"></a> 常用网址</h2>
<p>官网主页：<span class="exturl" data-url="aHR0cHM6Ly9tYXRwbG90bGliLm9yZy9zdGFibGUvaW5kZXguaHRtbA==">https://matplotlib.org/stable/index.html<i class="fa fa-external-link-alt"></i></span> （文中一些函数的具体用法可以在这一页面内查找其详细用法）</p>
<p>教程：<span class="exturl" data-url="aHR0cHM6Ly9tYXRwbG90bGliLm9yZy9zdGFibGUvdHV0b3JpYWxzL2luZGV4Lmh0bWwlRUYlQkMlODglRTYlOEYlOTAlRTQlQkUlOUIlRTQlQkElODYlRTQlQjglODAlRTQlQkElOUIlRTUlQjglQjglRTglQTclODElRTUlOUIlQkUlRTUlODMlOEYlRTclOUElODQlRTclQkIlOTglRTUlOUIlQkUlRTclQTQlQkElRTQlQkUlOEIlRUYlQkMlODk=">https://matplotlib.org/stable/tutorials/index.html（提供了一些常见图像的绘图示例）<i class="fa fa-external-link-alt"></i></span></p>
<p>示例库：<span class="exturl" data-url="aHR0cHM6Ly9tYXRwbG90bGliLm9yZy9zdGFibGUvZ2FsbGVyeS9pbmRleC5odG1s">https://matplotlib.org/stable/gallery/index.html<i class="fa fa-external-link-alt"></i></span> （包含了更多种类的绘图示例）</p>
<a id="more"></a>
<h2 id="图像结构"><a class="markdownIt-Anchor" href="#图像结构"></a> 图像结构</h2>
<p>下图所示为matplotlib中的一副图像的结构。可以看到整个图被称为一个<strong>figure</strong>，可以把它看作是一张画布。在figure内，又可以分布着一个或者多个<strong>Axes</strong>（坐标系），相当于是画布上的一个个区域。而一个Axes又是由很多个不同的<strong>元素</strong>组成的。</p>
<p><img data-src="https://raw.githubusercontent.com/lyf35/blog_figures/main/img/20210109161129.jpg" alt="图像结构" /></p>
<h2 id="面向对象作图"><a class="markdownIt-Anchor" href="#面向对象作图"></a> 面向对象作图</h2>
<p>Matplotlib提供了两种接口：</p>
<ul>
<li>基于Matlab的：自动创建和管理图和坐标系；</li>
<li>基于面向对象的：显式创建图和坐标系。</li>
</ul>
<p>基于Matlab的方法由matplotlib.pyplot提供，这样绘图比较简单，但是却容易混乱。因此，为了作图的高效，推荐以面向对象的思想进行作图。</p>
<p>Matplotlib中的对象共分为两大类（可参照图像结构）：</p>
<ul>
<li>容器类：图(figure)、坐标系(axes)、坐标轴(axis)、刻度(tick)。</li>
<li>基础类：线(line)、点(marker)、文字(text)、图例(legend)、网格(grid)、标题(title)。</li>
</ul>
<p>面向对象的作图方式大致可以分为下面三个步骤：</p>
<ol>
<li>创建figure实例</li>
<li>在figure上创建axes</li>
<li>在axes上添加基础类对象</li>
</ol>
<h2 id="作图步骤"><a class="markdownIt-Anchor" href="#作图步骤"></a> 作图步骤</h2>
<h3 id="创建容器类对象"><a class="markdownIt-Anchor" href="#创建容器类对象"></a> 创建容器类对象</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> matplotlib</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment">#方法1：同时创建figure和axes</span></span><br><span class="line">fig, axes=plt.subplots(<span class="number">2</span>,<span class="number">3</span>) <span class="comment">#创建一幅图以及其中的坐标系，其中subplots函数可以传入两个正整数（可选，如果不传入则默认为1），代表在竖向和横向上将figure均分成若干份。</span></span><br><span class="line">ax1=axes[<span class="number">0</span>][<span class="number">1</span>] <span class="comment">#可以通过索引来获得其中一个坐标系</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#注意：如果两个参数都为1，那么axes就直接是一个坐标系；如果subplots中的某一个或者两个参数不为1，那么axes就是一个一维或者二维的list，list中的元素即为对应的坐标系。</span></span><br><span class="line"><span class="comment">#错误操作1：</span></span><br><span class="line"><span class="comment">#fig, axes=plt.subplots(1,1)</span></span><br><span class="line"><span class="comment">#ax1=axes[0] axes已经是一个object，不能再索引</span></span><br><span class="line"><span class="comment">#错误操作2：</span></span><br><span class="line"><span class="comment">#fig, axes=plt.subplots(1,5)</span></span><br><span class="line"><span class="comment">#ax1=axes[0][0] axes是一个一维的list，不能索引两次</span></span><br></pre></td></tr></table></figure>
<p><img data-src="https://raw.githubusercontent.com/lyf35/blog_figures/main/img/20210109161141.png" alt="png" /></p>
<p>在上图中，我们可以看到子图的一些内容有重叠，这是因为默认情况下<code>constrained_layout</code>参数为<code>False</code>。因此绘图时不会自动对图像的元素进行位置和大小的调整，从而导致子图的一些元素放置在了subplot之外。</p>
<p>如果要避免这一现象，可以在创建subplot的时候传入<code>constrained_layout=True</code>，这样便会自动对图像元素进行调整，从而保证图像内容可以全部处于subplot之内。更加详细的说明参考https://matplotlib.org/stable/tutorials/intermediate/constrainedlayout_guide.html</p>
<p>当然，也可以直接通过<code>plt.rcParams['figure.constrained_layout.use'] = True</code>这一语句完成全局设置，这样的话之后创建的每一幅图都会自动调整图像布局。</p>
<p>另外一种类似的用法叫做Tight Layout：<span class="exturl" data-url="aHR0cHM6Ly9tYXRwbG90bGliLm9yZy9zdGFibGUvdHV0b3JpYWxzL2ludGVybWVkaWF0ZS90aWdodF9sYXlvdXRfZ3VpZGUuaHRtbA==">https://matplotlib.org/stable/tutorials/intermediate/tight_layout_guide.html<i class="fa fa-external-link-alt"></i></span> 。但是这种用法相比于Constrained Layout更容易出错，不推荐使用。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fig, axes=plt.subplots(<span class="number">2</span>,<span class="number">3</span>,constrained_layout=<span class="literal">True</span>) </span><br></pre></td></tr></table></figure>
<p><img data-src="https://raw.githubusercontent.com/lyf35/blog_figures/main/img/20210109161205.png" alt="png" /></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#方法2：将figure和axes的创建分开</span></span><br><span class="line"><span class="comment">#figure更细致的划分需要用到GridSpec，参考https://matplotlib.org/tutorials/intermediate/gridspec.html#sphx-glr-tutorials-intermediate-gridspec-py</span></span><br><span class="line">fig=plt.figure(num=<span class="number">1</span>,figsize=(<span class="number">4</span>,<span class="number">4</span>)) <span class="comment">#相当于创建一张白纸，figsize参数可以设置整张图片的大小</span></span><br><span class="line">ax1=fig.add_subplot(<span class="number">221</span>) <span class="comment">#前两个数字代表分成m*n的小块，第三个数字代表axes在第几个小块中绘制</span></span><br><span class="line">ax2=fig.add_subplot(<span class="number">222</span>) </span><br><span class="line">ax3=fig.add_subplot(<span class="number">111</span>) <span class="comment">#后添加的axes会覆盖之前已经添加的axes，不受之前add_subplot()函数的影响</span></span><br></pre></td></tr></table></figure>
<p><img data-src="https://raw.githubusercontent.com/lyf35/blog_figures/main/img/20210109161214.png" alt="png" /></p>
<h3 id="添加基础类对象"><a class="markdownIt-Anchor" href="#添加基础类对象"></a> 添加基础类对象</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#方法1：调用函数添加</span></span><br><span class="line">fig, ax=plt.subplots()</span><br><span class="line"><span class="comment">#图</span></span><br><span class="line">fig.legend(<span class="string">&quot;This is a test&quot;</span>) <span class="comment">#图-图例</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#坐标系</span></span><br><span class="line">ax.plot(np.array([(<span class="number">0</span>,<span class="number">0</span>),(<span class="number">0.2</span>,<span class="number">0.5</span>),(<span class="number">0.4</span>,<span class="number">0.6</span>)]),label=<span class="string">&#x27;label&#x27;</span>) <span class="comment">#坐标系-线</span></span><br><span class="line">ax.scatter(np.array([<span class="number">0</span>,<span class="number">0.3</span>,<span class="number">0.6</span>]),np.array([<span class="number">0.5</span>,<span class="number">0.2</span>,<span class="number">0.4</span>])) <span class="comment">#坐标系-点</span></span><br><span class="line">ax.grid() <span class="comment">#坐标系-网格</span></span><br><span class="line">ax.legend() <span class="comment">#坐标系-图例</span></span><br><span class="line"><span class="comment">#图例的详细设置参考：</span></span><br><span class="line"><span class="comment">#https://matplotlib.org/tutorials/intermediate/legend_guide.html#sphx-glr-tutorials-intermediate-legend-guide-py</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#插入文本（包括标题、坐标轴名称等），在图像内插入的文本支持Tex语法</span></span><br><span class="line"><span class="comment">#matplotlib.rcParams[&#x27;text.usetex&#x27;] = True #注：如果要在图片中插入Tex格式的文本，需要先打开这一功能</span></span><br><span class="line">ax.text(<span class="number">0.5</span>,<span class="number">0.2</span>,<span class="string">r&#x27;$\mu=100$ test&#x27;</span>) <span class="comment">#坐标系-文字，前两个参数代表文字在x和y方向的相对位置，第三个参数代表插入的文字内容。</span></span><br><span class="line">ax.set_title(<span class="string">r&#x27;Title $\frac&#123;1&#125;&#123;1&#125;$&#x27;</span>) <span class="comment">#坐标系-标题</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#坐标轴</span></span><br><span class="line">ax.set_xlabel(<span class="string">r&#x27;xlabel $\sqrt&#123;2&#125;,\ \sqrt[3]&#123;x&#125;,\ \ldots$&#x27;</span>) <span class="comment">#坐标系-坐标轴-x轴标签</span></span><br><span class="line">ax.set_ylabel(<span class="string">&#x27;ylabel&#x27;</span>) <span class="comment">#坐标系-坐标轴-y轴标签</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#刻度</span></span><br><span class="line">ax.set_xticklabels([<span class="string">&#x27;one&#x27;</span>, <span class="string">&#x27;two&#x27;</span>, <span class="string">&#x27;three&#x27;</span>, <span class="string">&#x27;four&#x27;</span>, <span class="string">&#x27;five&#x27;</span>, <span class="string">r&#x27;$\coprod$&#x27;</span>, <span class="string">r&#x27;$\int$&#x27;</span>]) <span class="comment"># 坐标系-坐标轴-刻度-x轴刻度标签</span></span><br><span class="line">ax.set_yticklabels([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]) <span class="comment"># 坐标系-坐标轴-刻度-y轴刻度标签</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#图像的注解</span></span><br><span class="line">ax.annotate(<span class="string">&#x27;local max&#x27;</span>, xy=(<span class="number">0.2</span>, <span class="number">0.2</span>),  xycoords=<span class="string">&#x27;data&#x27;</span>,</span><br><span class="line">            xytext=(<span class="number">0.8</span>, <span class="number">0.95</span>), textcoords=<span class="string">&#x27;axes fraction&#x27;</span>,</span><br><span class="line">            arrowprops=dict(facecolor=<span class="string">&#x27;black&#x27;</span>, shrink=<span class="number">0.05</span>),</span><br><span class="line">            horizontalalignment=<span class="string">&#x27;right&#x27;</span>, verticalalignment=<span class="string">&#x27;top&#x27;</span>,</span><br><span class="line">            )</span><br><span class="line"><span class="comment">#关于注解的详细设置可参考：</span></span><br><span class="line"><span class="comment">#https://matplotlib.org/tutorials/text/annotations.html#sphx-glr-tutorials-text-annotations-py</span></span><br></pre></td></tr></table></figure>
<p><img data-src="https://raw.githubusercontent.com/lyf35/blog_figures/main/img/20210109161339.png" alt="png" /></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#方法2：构造一个字典，包含对应的关键词，然后将其作为参数传入到ax.set()函数</span></span><br><span class="line">fig, ax=plt.subplots()</span><br><span class="line">props = &#123;<span class="string">&#x27;title&#x27;</span>: <span class="string">&#x27;Title&#x27;</span>, <span class="comment"># 坐标系-标题</span></span><br><span class="line">      <span class="string">&#x27;xlabel&#x27;</span>: <span class="string">&#x27;xlabel&#x27;</span>, <span class="comment"># 坐标系-坐标轴-标签</span></span><br><span class="line">      <span class="string">&#x27;xticklabels&#x27;</span>:[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]&#125; <span class="comment"># 坐标系-坐标轴-刻度-标签</span></span><br><span class="line">ax.set(**props)</span><br></pre></td></tr></table></figure>
<p><img data-src="https://raw.githubusercontent.com/lyf35/blog_figures/main/img/20210109161429.png" alt="png" /></p>
<h3 id="图像美化"><a class="markdownIt-Anchor" href="#图像美化"></a> 图像美化</h3>
<p>图像美化的方法有两种：一种是调用<code>plt.style.use()</code>，使用官方预定义的格式；另外一种方法是通过<code>matplotlib.rcParams</code>自定义。</p>
<p>方法一：通过<code>rcParams</code>手动设置。一些参数的含义可以查看https://matplotlib.org/stable/tutorials/introductory/customizing.html</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#matplotlib.rcParams.keys() #用matplotlib.rcParams.keys()可以查看所有可以全局定义的属性，因为属性太多故此处不做显示</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">params = &#123;</span><br><span class="line">        <span class="string">&quot;font.size&quot;</span>: <span class="number">12</span>,     <span class="comment"># 全局字号</span></span><br><span class="line">        <span class="string">&#x27;font.family&#x27;</span>:<span class="string">&#x27;Arial&#x27;</span>, <span class="comment"># 全局字体</span></span><br><span class="line">        <span class="string">&quot;axes.spines.right&quot;</span>:<span class="literal">True</span>,  <span class="comment"># 坐标系-右侧线</span></span><br><span class="line">        <span class="string">&quot;axes.spines.top&quot;</span>:<span class="literal">True</span>,   <span class="comment"># 坐标系-上侧线</span></span><br><span class="line">        <span class="string">&quot;axes.titlesize&quot;</span>:<span class="number">12</span>,   <span class="comment"># 坐标系-标题-字号</span></span><br><span class="line">        <span class="string">&quot;axes.labelsize&quot;</span>: <span class="number">12</span>,  <span class="comment"># 坐标系-标签-字号</span></span><br><span class="line">        <span class="string">&quot;legend.fontsize&quot;</span>: <span class="number">12</span>,  <span class="comment"># 图例-字号</span></span><br><span class="line">        <span class="string">&quot;xtick.labelsize&quot;</span>: <span class="number">10</span>,  <span class="comment"># 刻度-标签-字号</span></span><br><span class="line">        <span class="string">&quot;ytick.labelsize&quot;</span>: <span class="number">10</span>,  <span class="comment"># 刻度-标签-字号</span></span><br><span class="line">        <span class="string">&quot;xtick.direction&quot;</span>:<span class="string">&#x27;in&#x27;</span>,   <span class="comment"># 刻度-方向</span></span><br><span class="line">        <span class="string">&quot;ytick.direction&quot;</span>:<span class="string">&#x27;in&#x27;</span>  <span class="comment"># 刻度-方向</span></span><br><span class="line">&#125;</span><br><span class="line">matplotlib.rcParams.update(**params)</span><br><span class="line"><span class="comment">#或者按照matplotlib.rcParams[&#x27;key&#x27;]=value这种格式也可以进行调整</span></span><br><span class="line"></span><br><span class="line">matplotlib.rc_file_defaults() <span class="comment">#还原为本次导入matplotlib时的默认设置</span></span><br><span class="line"><span class="comment">#matplotlib.rcdefaults() #还原为matplotlib的默认绘图设置，类似于恢复出厂设置</span></span><br></pre></td></tr></table></figure>
<p>方法二：使用预定义格式。预定义格式的效果图可以参考https://matplotlib.org/stable/gallery/style_sheets/style_sheets_reference.html</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#plt.style.available #plt.style.available可以查看所有的可用样式</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">plt.style.use(<span class="string">&#x27;seaborn-paper&#x27;</span>) </span><br><span class="line"></span><br><span class="line"><span class="comment">#如果只想对于某幅图片使用一种格式，可以用下面的命令，将绘图操作写入with代码块里面</span></span><br><span class="line"><span class="comment">#with plt.style.context(&#x27;seaborn&#x27;):  #将use换成context</span></span><br><span class="line">    <span class="comment">#plotting commands</span></span><br></pre></td></tr></table></figure>
<h3 id="保存图像"><a class="markdownIt-Anchor" href="#保存图像"></a> 保存图像</h3>
<p>要保存生成的图像，可以使用如下命令。图像支持多种格式的保存，可以使用<code>fig.canvas.get_supported_filetypes()</code>来查看支持的图片格式类型。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">fig.savefig(<span class="string">&#x27;sales.png&#x27;</span>, transparent=<span class="literal">False</span>, dpi=<span class="number">80</span>, bbox_inches=<span class="string">&quot;tight&quot;</span>) </span><br><span class="line"><span class="comment">#上面几个为常用的参数，它们的含义如下：</span></span><br><span class="line"><span class="comment">#transparent：代表图片背景是否透明</span></span><br><span class="line"><span class="comment">#dpi：输出图像的分辨率</span></span><br><span class="line"><span class="comment">#bbox_inches：代表图片边缘的留白如何处理，&#x27;tight&#x27;表示除去图片边缘的所有留白</span></span><br></pre></td></tr></table></figure>
<h1 id="图像格式"><a class="markdownIt-Anchor" href="#图像格式"></a> 图像格式</h1>
<h2 id="色彩"><a class="markdownIt-Anchor" href="#色彩"></a> 色彩</h2>
<h3 id="色彩表示"><a class="markdownIt-Anchor" href="#色彩表示"></a> 色彩表示</h3>
<p>在使用绘图、添加文字等函数时，可以加入<code>color=</code>参数，来表明文字/散点/曲线等的颜色。颜色的定义方法有很多，包括但不限于：</p>
<ul>
<li>传入一个表示RGB或者RGBA的tuple，其中的每个元素为0到1中间的浮点数，例如[0.2,0.5,0.6,0.9]</li>
<li>传入一个表示RGB或者RGBA的十六进制格式字符串，例如’#aabbccdd’</li>
<li>传入{‘b’, ‘g’, ‘r’, ‘c’, ‘m’, ‘y’, ‘k’, ‘w’}的其中一个，它们对应于blue, green, red, cyan, magenta, yellow, black, and white.</li>
</ul>
<p>更多的颜色表示方法可参考：</p>
<p>如何自己设定颜色：<span class="exturl" data-url="aHR0cHM6Ly9tYXRwbG90bGliLm9yZy9zdGFibGUvdHV0b3JpYWxzL2NvbG9ycy9jb2xvcnMuaHRtbA==">https://matplotlib.org/stable/tutorials/colors/colors.html<i class="fa fa-external-link-alt"></i></span></p>
<p>一些预置的颜色：<span class="exturl" data-url="aHR0cHM6Ly9tYXRwbG90bGliLm9yZy9zdGFibGUvZ2FsbGVyeS9jb2xvci9uYW1lZF9jb2xvcnMuaHRtbA==">https://matplotlib.org/stable/gallery/color/named_colors.html<i class="fa fa-external-link-alt"></i></span></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">t = np.linspace(<span class="number">0.0</span>, <span class="number">2.0</span>, <span class="number">201</span>)</span><br><span class="line">s = np.sin(<span class="number">2</span> * np.pi * t)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 1) RGB tuple:</span></span><br><span class="line">fig, ax = plt.subplots(facecolor=(<span class="number">.18</span>, <span class="number">.31</span>, <span class="number">.31</span>))</span><br><span class="line"><span class="comment"># 2) hex string:</span></span><br><span class="line">ax.set_facecolor(<span class="string">&#x27;#eafff5&#x27;</span>)</span><br><span class="line"><span class="comment"># 3) gray level string:</span></span><br><span class="line">ax.set_title(<span class="string">&#x27;Voltage vs. time chart&#x27;</span>, color=<span class="string">&#x27;0.7&#x27;</span>)</span><br><span class="line"><span class="comment"># 4) single letter color string</span></span><br><span class="line">ax.set_xlabel(<span class="string">&#x27;time (s)&#x27;</span>, color=<span class="string">&#x27;c&#x27;</span>)</span><br><span class="line"><span class="comment"># 5) a named color:</span></span><br><span class="line">ax.set_ylabel(<span class="string">&#x27;voltage (mV)&#x27;</span>, color=<span class="string">&#x27;peachpuff&#x27;</span>)</span><br><span class="line"><span class="comment"># 6) a named xkcd color:</span></span><br><span class="line">ax.plot(t, s, <span class="string">&#x27;xkcd:crimson&#x27;</span>)</span><br><span class="line"><span class="comment"># 7) Cn notation:</span></span><br><span class="line">ax.plot(t, <span class="number">.7</span>*s, color=<span class="string">&#x27;C4&#x27;</span>, linestyle=<span class="string">&#x27;--&#x27;</span>)</span><br><span class="line"><span class="comment"># 8) tab notation:</span></span><br><span class="line">ax.tick_params(labelcolor=<span class="string">&#x27;tab:orange&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p><img data-src="https://raw.githubusercontent.com/lyf35/blog_figures/main/img/20210109161422.png" alt="png" /></p>
<h3 id="colormap"><a class="markdownIt-Anchor" href="#colormap"></a> colormap</h3>
<p>在绘制一些图像如轮廓图、流形图等的时候，需要传入<code>cmap</code>参数，即使用一个colormap。colormap有一些系统定义好的，也可以自己定义。详细的用法可参考：</p>
<p>colormap的简介：<span class="exturl" data-url="aHR0cHM6Ly9tYXRwbG90bGliLm9yZy9zdGFibGUvdHV0b3JpYWxzL2NvbG9ycy9jb2xvcmJhcl9vbmx5Lmh0bWw=">https://matplotlib.org/stable/tutorials/colors/colorbar_only.html<i class="fa fa-external-link-alt"></i></span></p>
<p>如何自己构造colormap：<span class="exturl" data-url="aHR0cHM6Ly9tYXRwbG90bGliLm9yZy9zdGFibGUvdHV0b3JpYWxzL2NvbG9ycy9jb2xvcm1hcC1tYW5pcHVsYXRpb24uaHRtbCVFRiVCQyU4Q2h0dHBzOi8vbWF0cGxvdGxpYi5vcmcvZ2FsbGVyeS9jb2xvci9jdXN0b21fY21hcC5odG1sI3NwaHgtZ2xyLWdhbGxlcnktY29sb3ItY3VzdG9tLWNtYXAtcHk=">https://matplotlib.org/stable/tutorials/colors/colormap-manipulation.html，https://matplotlib.org/gallery/color/custom_cmap.html#sphx-glr-gallery-color-custom-cmap-py<i class="fa fa-external-link-alt"></i></span></p>
<p>colormap的刻度调整：<span class="exturl" data-url="aHR0cHM6Ly9tYXRwbG90bGliLm9yZy9zdGFibGUvdHV0b3JpYWxzL2NvbG9ycy9jb2xvcm1hcG5vcm1zLmh0bWw=">https://matplotlib.org/stable/tutorials/colors/colormapnorms.html<i class="fa fa-external-link-alt"></i></span></p>
<p>预设的colormap：<span class="exturl" data-url="aHR0cHM6Ly9tYXRwbG90bGliLm9yZy9zdGFibGUvdHV0b3JpYWxzL2NvbG9ycy9jb2xvcm1hcHMuaHRtbA==">https://matplotlib.org/stable/tutorials/colors/colormaps.html<i class="fa fa-external-link-alt"></i></span></p>
<h3 id="色彩循环"><a class="markdownIt-Anchor" href="#色彩循环"></a> 色彩循环</h3>
<p>如果在一幅图里面同时绘制多条曲线或者多种散点，同时绘图时又没有手动指定颜色的话，那么系统会使用默认的色彩循环方式，将它们区分开来。如果要对这些设置进行调整，可以参考：</p>
<p><span class="exturl" data-url="aHR0cHM6Ly9tYXRwbG90bGliLm9yZy9zdGFibGUvZ2FsbGVyeS9jb2xvci9jb2xvcl9jeWNsZV9kZWZhdWx0Lmh0bWw=">https://matplotlib.org/stable/gallery/color/color_cycle_default.html<i class="fa fa-external-link-alt"></i></span></p>
<p><span class="exturl" data-url="aHR0cHM6Ly9tYXRwbG90bGliLm9yZy9zdGFibGUvdHV0b3JpYWxzL2ludGVybWVkaWF0ZS9jb2xvcl9jeWNsZS5odG1s">https://matplotlib.org/stable/tutorials/intermediate/color_cycle.html<i class="fa fa-external-link-alt"></i></span></p>
<h2 id="线形与线宽"><a class="markdownIt-Anchor" href="#线形与线宽"></a> 线形与线宽</h2>
<p>在绘制曲线的时候，可以使用<code>linestyle</code>参数设置不同的线型，这些不同的线形可以参考：<span class="exturl" data-url="aHR0cHM6Ly9tYXRwbG90bGliLm9yZy9zdGFibGUvZ2FsbGVyeS9saW5lc19iYXJzX2FuZF9tYXJrZXJzL2xpbmVzdHlsZXMuaHRtbA==">https://matplotlib.org/stable/gallery/lines_bars_and_markers/linestyles.html<i class="fa fa-external-link-alt"></i></span></p>
<p>对于四种比较常见的线形，专门设置了比较简便的表示方法：’-‘表示直线，’.‘表示点，’–‘表示虚线，’-.'表示点划线</p>
<p>如果要调整线宽，可以通过<code>linewidth</code>来改变线宽，它的值是一个浮点数。</p>
<p>默认情况下，在使用点绘制曲线的时候，在曲线上是不显示原始点的，如果要显示，则需要传入<code>marker</code>参数设置点的标记格式。</p>
<h2 id="标记"><a class="markdownIt-Anchor" href="#标记"></a> 标记</h2>
<p>在绘制点的时候（例如散点图），可以使用<code>marker</code>参数设置不同的标记形状。标记形状可以自己定义，也可以使用系统自带的一些标记，可参考https://matplotlib.org/stable/gallery/lines_bars_and_markers/marker_reference.html</p>
<p>对于标记来说，它们的大小、颜色、填充方式等信息可以自己设置，可以通过参数<code>markersize</code>, <code>markerfacecolor</code>, <code>markeredgecolor</code>, <code>fillstyle</code>, <code>markerfacecoloralt</code>等进行调整。</p>
<h2 id="文本"><a class="markdownIt-Anchor" href="#文本"></a> 文本</h2>
<p>在图中插入的图注、坐标轴、文本、标题等都属于文本。这些文本的颜色、字体、大小等信息都可以调整。关于文本内容的详细设置可以参考：</p>
<ul>
<li>不同种类的文本：<span class="exturl" data-url="aHR0cHM6Ly9tYXRwbG90bGliLm9yZy9zdGFibGUvdHV0b3JpYWxzL3RleHQvdGV4dF9pbnRyby5odG1s">https://matplotlib.org/stable/tutorials/text/text_intro.html<i class="fa fa-external-link-alt"></i></span></li>
<li>文本格式设置：<span class="exturl" data-url="aHR0cHM6Ly9tYXRwbG90bGliLm9yZy9zdGFibGUvdHV0b3JpYWxzL3RleHQvdGV4dF9wcm9wcy5odG1s">https://matplotlib.org/stable/tutorials/text/text_props.html<i class="fa fa-external-link-alt"></i></span></li>
<li>Tex写数学表达式：<span class="exturl" data-url="aHR0cHM6Ly9tYXRwbG90bGliLm9yZy9zdGFibGUvdHV0b3JpYWxzL3RleHQvbWF0aHRleHQuaHRtbA==">https://matplotlib.org/stable/tutorials/text/mathtext.html<i class="fa fa-external-link-alt"></i></span></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">fig = plt.figure()</span><br><span class="line">ax = fig.add_subplot(<span class="number">111</span>)</span><br><span class="line">fig.subplots_adjust(top=<span class="number">0.85</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Set titles for the figure and the subplot respectively</span></span><br><span class="line">fig.suptitle(<span class="string">&#x27;bold figure suptitle&#x27;</span>, fontsize=<span class="number">14</span>, fontweight=<span class="string">&#x27;bold&#x27;</span>)</span><br><span class="line">ax.set_title(<span class="string">&#x27;axes title&#x27;</span>)</span><br><span class="line"></span><br><span class="line">ax.set_xlabel(<span class="string">&#x27;xlabel&#x27;</span>)</span><br><span class="line">ax.set_ylabel(<span class="string">&#x27;ylabel&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Set both x- and y-axis limits to [0, 10] instead of default [0, 1]</span></span><br><span class="line">ax.axis([<span class="number">0</span>, <span class="number">10</span>, <span class="number">0</span>, <span class="number">10</span>])</span><br><span class="line"></span><br><span class="line">ax.text(<span class="number">3</span>, <span class="number">8</span>, <span class="string">&#x27;boxed italics text in data coords&#x27;</span>, style=<span class="string">&#x27;italic&#x27;</span>,</span><br><span class="line">        bbox=&#123;<span class="string">&#x27;facecolor&#x27;</span>: <span class="string">&#x27;red&#x27;</span>, <span class="string">&#x27;alpha&#x27;</span>: <span class="number">0.5</span>, <span class="string">&#x27;pad&#x27;</span>: <span class="number">10</span>&#125;)</span><br><span class="line"></span><br><span class="line">ax.text(<span class="number">2</span>, <span class="number">6</span>, <span class="string">r&#x27;an equation: $E=mc^2$&#x27;</span>, fontsize=<span class="number">15</span>)</span><br><span class="line"></span><br><span class="line">ax.text(<span class="number">3</span>, <span class="number">2</span>, <span class="string">&#x27;unicode: Institut für Festkörperphysik&#x27;</span>)</span><br><span class="line"></span><br><span class="line">ax.text(<span class="number">0.95</span>, <span class="number">0.01</span>, <span class="string">&#x27;colored text in axes coords&#x27;</span>,</span><br><span class="line">        verticalalignment=<span class="string">&#x27;bottom&#x27;</span>, horizontalalignment=<span class="string">&#x27;right&#x27;</span>,</span><br><span class="line">        transform=ax.transAxes,</span><br><span class="line">        color=<span class="string">&#x27;green&#x27;</span>, fontsize=<span class="number">15</span>)</span><br><span class="line"></span><br><span class="line">ax.plot([<span class="number">2</span>], [<span class="number">1</span>], <span class="string">&#x27;o&#x27;</span>)</span><br><span class="line">ax.annotate(<span class="string">&#x27;annotate&#x27;</span>, xy=(<span class="number">2</span>, <span class="number">1</span>), xytext=(<span class="number">3</span>, <span class="number">4</span>),</span><br><span class="line">            arrowprops=dict(facecolor=<span class="string">&#x27;black&#x27;</span>, shrink=<span class="number">0.05</span>))</span><br></pre></td></tr></table></figure>
<p><img data-src="https://raw.githubusercontent.com/lyf35/blog_figures/main/img/20210109161441.png" alt="png" /></p>
<h1 id="绘图示例"><a class="markdownIt-Anchor" href="#绘图示例"></a> 绘图示例</h1>
<p>下面这些绘图的代码示例来自于官方教程，包含了一些比较常见的绘图操作。在https://matplotlib.org/stable/gallery/index.html中可以找到更多更全的绘图示例。</p>
<h2 id="曲线图"><a class="markdownIt-Anchor" href="#曲线图"></a> 曲线图</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">x1 = np.linspace(<span class="number">0.0</span>, <span class="number">5.0</span>)</span><br><span class="line">x2 = np.linspace(<span class="number">0.0</span>, <span class="number">2.0</span>)</span><br><span class="line"></span><br><span class="line">y1 = np.cos(<span class="number">2</span> * np.pi * x1) * np.exp(-x1)</span><br><span class="line">y2 = np.cos(<span class="number">2</span> * np.pi * x2)</span><br><span class="line"></span><br><span class="line">fig, (ax1, ax2) = plt.subplots(<span class="number">2</span>, <span class="number">1</span>)</span><br><span class="line">fig.suptitle(<span class="string">&#x27;A tale of 2 subplots&#x27;</span>)</span><br><span class="line"></span><br><span class="line">ax1.plot(x1, y1, <span class="string">&#x27;o-&#x27;</span>) <span class="comment">#第三个参数对应于点和线的格式，下同</span></span><br><span class="line">ax1.set_ylabel(<span class="string">&#x27;Damped oscillation&#x27;</span>)</span><br><span class="line"></span><br><span class="line">ax2.plot(x2, y2, <span class="string">&#x27;.-&#x27;</span>)</span><br><span class="line">ax2.set_xlabel(<span class="string">&#x27;time (s)&#x27;</span>)</span><br><span class="line">ax2.set_ylabel(<span class="string">&#x27;Undamped&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p><img data-src="https://raw.githubusercontent.com/lyf35/blog_figures/main/img/20210109161447.png" alt="png" /></p>
<h2 id="伪彩色图与轮廓图"><a class="markdownIt-Anchor" href="#伪彩色图与轮廓图"></a> 伪彩色图与轮廓图</h2>
<p>在绘制伪彩色图时，传入的x和y对应的是网格的边界，之后会自动根据传入的网格边界将二维平面进行划分（边界可以为斜线）。而传入的z值则对应于每个网格的值，网格颜色便会使用这些值来进行染色。</p>
<p>而绘制轮廓图时，传入的x和y对应的是二维平面的一个个点，z对应的是这些点的值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># make these smaller to increase the resolution</span></span><br><span class="line">dx, dy = <span class="number">0.05</span>, <span class="number">0.05</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># generate 2 2d grids for the x &amp; y bounds</span></span><br><span class="line">y, x = np.mgrid[slice(<span class="number">1</span>, <span class="number">5</span> + dy, dy), slice(<span class="number">1</span>, <span class="number">5</span> + dx, dx)]</span><br><span class="line"></span><br><span class="line">z = np.sin(x)**<span class="number">10</span> + np.cos(<span class="number">10</span> + y*x) * np.cos(x)</span><br><span class="line"></span><br><span class="line"><span class="comment"># x and y are bounds, so z should be the value *inside* those bounds.</span></span><br><span class="line"><span class="comment"># Therefore, remove the last value from the z array.</span></span><br><span class="line">z = z[:<span class="number">-1</span>, :<span class="number">-1</span>]</span><br><span class="line">levels = matplotlib.ticker.MaxNLocator(nbins=<span class="number">15</span>).tick_values(z.min(), z.max())</span><br><span class="line"></span><br><span class="line"><span class="comment"># pick the desired colormap, sensible levels, and define a normalization</span></span><br><span class="line"><span class="comment"># instance which takes data values and translates those into levels.</span></span><br><span class="line">cmap = plt.get_cmap(<span class="string">&#x27;PiYG&#x27;</span>)</span><br><span class="line">norm = matplotlib.colors.BoundaryNorm(levels, ncolors=cmap.N, clip=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">fig, (ax0, ax1) = plt.subplots(nrows=<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">im = ax0.pcolormesh(x, y, z, cmap=cmap, norm=norm)</span><br><span class="line">fig.colorbar(im, ax=ax0)</span><br><span class="line">ax0.set_title(<span class="string">&#x27;pcolormesh with levels&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># contours are *point* based plots, so convert our bound into point centers</span></span><br><span class="line">cf = ax1.contourf(x[:<span class="number">-1</span>, :<span class="number">-1</span>] + dx/<span class="number">2.</span>, y[:<span class="number">-1</span>, :<span class="number">-1</span>] + dy/<span class="number">2.</span>, z, levels=levels, cmap=cmap)</span><br><span class="line">fig.colorbar(cf, ax=ax1)</span><br><span class="line">ax1.set_title(<span class="string">&#x27;contourf with levels&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># adjust spacing between subplots so `ax1` title and `ax0` tick labels</span></span><br><span class="line"><span class="comment"># don&#x27;t overlap</span></span><br><span class="line">fig.tight_layout()</span><br></pre></td></tr></table></figure>
<p><img data-src="https://raw.githubusercontent.com/lyf35/blog_figures/main/img/20210109161500.png" alt="png" /></p>
<h2 id="直方图"><a class="markdownIt-Anchor" href="#直方图"></a> 直方图</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># example data</span></span><br><span class="line">mu = <span class="number">100</span>  <span class="comment"># mean of distribution</span></span><br><span class="line">sigma = <span class="number">15</span>  <span class="comment"># standard deviation of distribution</span></span><br><span class="line">x = mu + sigma * np.random.randn(<span class="number">1000</span>)</span><br><span class="line"></span><br><span class="line">num_bins = <span class="number">50</span></span><br><span class="line"></span><br><span class="line">fig, ax = plt.subplots()</span><br><span class="line"></span><br><span class="line"><span class="comment"># the histogram of the data</span></span><br><span class="line">n, bins, patches = ax.hist(x, num_bins, density=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># add a &#x27;best fit&#x27; line</span></span><br><span class="line">y = ((<span class="number">1</span> / (np.sqrt(<span class="number">2</span> * np.pi) * sigma)) * np.exp(<span class="number">-0.5</span> * (<span class="number">1</span> / sigma * (bins - mu))**<span class="number">2</span>))</span><br><span class="line">ax.plot(bins, y, <span class="string">&#x27;--&#x27;</span>)</span><br><span class="line">ax.set_xlabel(<span class="string">&#x27;Smarts&#x27;</span>)</span><br><span class="line">ax.set_ylabel(<span class="string">&#x27;Probability density&#x27;</span>)</span><br><span class="line">ax.set_title(<span class="string">r&#x27;Histogram of IQ: $\mu=100$, $\sigma=15$&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Tweak spacing to prevent clipping of ylabel</span></span><br><span class="line">fig.tight_layout()</span><br></pre></td></tr></table></figure>
<p><img data-src="https://raw.githubusercontent.com/lyf35/blog_figures/main/img/20210109161505.png" alt="png" /></p>
<h2 id="三维图"><a class="markdownIt-Anchor" href="#三维图"></a> 三维图</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> mpl_toolkits.mplot3d <span class="keyword">import</span> Axes3D</span><br><span class="line">fig, ax = plt.subplots(subplot_kw=&#123;<span class="string">&quot;projection&quot;</span>: <span class="string">&quot;3d&quot;</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Make data.</span></span><br><span class="line">X = np.arange(<span class="number">-5</span>, <span class="number">5</span>, <span class="number">0.25</span>)</span><br><span class="line">Y = np.arange(<span class="number">-5</span>, <span class="number">5</span>, <span class="number">0.25</span>)</span><br><span class="line">X, Y = np.meshgrid(X, Y)</span><br><span class="line">R = np.sqrt(X**<span class="number">2</span> + Y**<span class="number">2</span>)</span><br><span class="line">Z = np.sin(R)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Plot the surface.</span></span><br><span class="line">surf = ax.plot_surface(X, Y, Z, cmap=matplotlib.cm.coolwarm, linewidth=<span class="number">0</span>, antialiased=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Customize the z axis.</span></span><br><span class="line">ax.set_zlim(<span class="number">-1.01</span>, <span class="number">1.01</span>)</span><br><span class="line">ax.zaxis.set_major_locator(matplotlib.ticker.LinearLocator(<span class="number">10</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Add a color bar which maps values to colors.</span></span><br><span class="line">fig.colorbar(surf, shrink=<span class="number">0.5</span>, aspect=<span class="number">5</span>)</span><br></pre></td></tr></table></figure>
<p><img data-src="https://raw.githubusercontent.com/lyf35/blog_figures/main/img/20210109161517.png" alt="png" /></p>
<h2 id="流形图"><a class="markdownIt-Anchor" href="#流形图"></a> 流形图</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">w = <span class="number">3</span></span><br><span class="line">Y, X = np.mgrid[-w:w:<span class="number">100j</span>, -w:w:<span class="number">100j</span>]</span><br><span class="line">U = <span class="number">-1</span> - X**<span class="number">2</span> + Y</span><br><span class="line">V = <span class="number">1</span> + X - Y**<span class="number">2</span></span><br><span class="line">speed = np.sqrt(U**<span class="number">2</span> + V**<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">fig = plt.figure(figsize=(<span class="number">7</span>, <span class="number">9</span>))</span><br><span class="line">gs = matplotlib.gridspec.GridSpec(nrows=<span class="number">3</span>, ncols=<span class="number">2</span>, height_ratios=[<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">#  Varying density along a streamline</span></span><br><span class="line">ax0 = fig.add_subplot(gs[<span class="number">0</span>, <span class="number">0</span>])</span><br><span class="line">ax0.streamplot(X, Y, U, V, density=[<span class="number">0.5</span>, <span class="number">1</span>])</span><br><span class="line">ax0.set_title(<span class="string">&#x27;Varying Density&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Varying color along a streamline</span></span><br><span class="line">ax1 = fig.add_subplot(gs[<span class="number">0</span>, <span class="number">1</span>])</span><br><span class="line">strm = ax1.streamplot(X, Y, U, V, color=U, linewidth=<span class="number">2</span>, cmap=<span class="string">&#x27;autumn&#x27;</span>)</span><br><span class="line">fig.colorbar(strm.lines)</span><br><span class="line">ax1.set_title(<span class="string">&#x27;Varying Color&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#  Varying line width along a streamline</span></span><br><span class="line">ax2 = fig.add_subplot(gs[<span class="number">1</span>, <span class="number">0</span>])</span><br><span class="line">lw = <span class="number">5</span>*speed / speed.max()</span><br><span class="line">ax2.streamplot(X, Y, U, V, density=<span class="number">0.6</span>, color=<span class="string">&#x27;k&#x27;</span>, linewidth=lw)</span><br><span class="line">ax2.set_title(<span class="string">&#x27;Varying Line Width&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Controlling the starting points of the streamlines</span></span><br><span class="line">seed_points = np.array([[<span class="number">-2</span>, <span class="number">-1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">-1</span>], [<span class="number">-2</span>, <span class="number">-1</span>,  <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>]])</span><br><span class="line"></span><br><span class="line">ax3 = fig.add_subplot(gs[<span class="number">1</span>, <span class="number">1</span>])</span><br><span class="line">strm = ax3.streamplot(X, Y, U, V, color=U, linewidth=<span class="number">2</span>,</span><br><span class="line">                      cmap=<span class="string">&#x27;autumn&#x27;</span>, start_points=seed_points.T)</span><br><span class="line">fig.colorbar(strm.lines)</span><br><span class="line">ax3.set_title(<span class="string">&#x27;Controlling Starting Points&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Displaying the starting points with blue symbols.</span></span><br><span class="line">ax3.plot(seed_points[<span class="number">0</span>], seed_points[<span class="number">1</span>], <span class="string">&#x27;bo&#x27;</span>)</span><br><span class="line">ax3.set(xlim=(-w, w), ylim=(-w, w))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create a mask</span></span><br><span class="line">mask = np.zeros(U.shape, dtype=bool)</span><br><span class="line">mask[<span class="number">40</span>:<span class="number">60</span>, <span class="number">40</span>:<span class="number">60</span>] = <span class="literal">True</span></span><br><span class="line">U[:<span class="number">20</span>, :<span class="number">20</span>] = np.nan</span><br><span class="line">U = np.ma.array(U, mask=mask)</span><br><span class="line"></span><br><span class="line">ax4 = fig.add_subplot(gs[<span class="number">2</span>:, :])</span><br><span class="line">ax4.streamplot(X, Y, U, V, color=<span class="string">&#x27;r&#x27;</span>)</span><br><span class="line">ax4.set_title(<span class="string">&#x27;Streamplot with Masking&#x27;</span>)</span><br><span class="line"></span><br><span class="line">ax4.imshow(~mask, extent=(-w, w, -w, w), alpha=<span class="number">0.5</span>, cmap=<span class="string">&#x27;gray&#x27;</span>, aspect=<span class="string">&#x27;auto&#x27;</span>)</span><br><span class="line">ax4.set_aspect(<span class="string">&#x27;equal&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plt.tight_layout()</span><br></pre></td></tr></table></figure>
<p><img data-src="https://raw.githubusercontent.com/lyf35/blog_figures/main/img/20210109161523.png" alt="png" /></p>
<h2 id="条形图"><a class="markdownIt-Anchor" href="#条形图"></a> 条形图</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">data = [[ <span class="number">66386</span>, <span class="number">174296</span>,  <span class="number">75131</span>, <span class="number">577908</span>,  <span class="number">32015</span>],</span><br><span class="line">        [ <span class="number">58230</span>, <span class="number">381139</span>,  <span class="number">78045</span>,  <span class="number">99308</span>, <span class="number">160454</span>],</span><br><span class="line">        [ <span class="number">89135</span>,  <span class="number">80552</span>, <span class="number">152558</span>, <span class="number">497981</span>, <span class="number">603535</span>],</span><br><span class="line">        [ <span class="number">78415</span>,  <span class="number">81858</span>, <span class="number">150656</span>, <span class="number">193263</span>,  <span class="number">69638</span>],</span><br><span class="line">        [<span class="number">139361</span>, <span class="number">331509</span>, <span class="number">343164</span>, <span class="number">781380</span>,  <span class="number">52269</span>]]</span><br><span class="line"></span><br><span class="line">columns = (<span class="string">&#x27;Freeze&#x27;</span>, <span class="string">&#x27;Wind&#x27;</span>, <span class="string">&#x27;Flood&#x27;</span>, <span class="string">&#x27;Quake&#x27;</span>, <span class="string">&#x27;Hail&#x27;</span>)</span><br><span class="line">rows = [<span class="string">&#x27;%d year&#x27;</span> % x <span class="keyword">for</span> x <span class="keyword">in</span> (<span class="number">100</span>, <span class="number">50</span>, <span class="number">20</span>, <span class="number">10</span>, <span class="number">5</span>)]</span><br><span class="line"></span><br><span class="line">values = np.arange(<span class="number">0</span>, <span class="number">2500</span>, <span class="number">500</span>)</span><br><span class="line">value_increment = <span class="number">1000</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Get some pastel shades for the colors</span></span><br><span class="line">colors = plt.cm.BuPu(np.linspace(<span class="number">0</span>, <span class="number">0.5</span>, len(rows)))</span><br><span class="line">n_rows = len(data)</span><br><span class="line"></span><br><span class="line">index = np.arange(len(columns)) + <span class="number">0.3</span></span><br><span class="line">bar_width = <span class="number">0.4</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Initialize the vertical-offset for the stacked bar chart.</span></span><br><span class="line">y_offset = np.zeros(len(columns))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Plot bars and create text labels for the table</span></span><br><span class="line">cell_text = []</span><br><span class="line"><span class="keyword">for</span> row <span class="keyword">in</span> range(n_rows):</span><br><span class="line">    plt.bar(index, data[row], bar_width, bottom=y_offset, color=colors[row])</span><br><span class="line">    <span class="comment">#plt.bar(index, data[row], bar_width, bottom=y_offset, color=colors[row], tick_label=columns) #绘制正常的条形图</span></span><br><span class="line">    <span class="comment">#plt.barh(index, data[row], bar_width, left=y_offset, color=colors[row], tick_label=columns) #绘制水平条形图，下面代码中的x、y轴标签等信息也需要修改</span></span><br><span class="line">    y_offset = y_offset + data[row]</span><br><span class="line">    cell_text.append([<span class="string">&#x27;%1.1f&#x27;</span> % (x / <span class="number">1000.0</span>) <span class="keyword">for</span> x <span class="keyword">in</span> y_offset])</span><br><span class="line"><span class="comment"># Reverse colors and text labels to display the last value at the top.</span></span><br><span class="line">colors = colors[::<span class="number">-1</span>]</span><br><span class="line">cell_text.reverse()</span><br><span class="line"></span><br><span class="line"><span class="comment">#在横轴下方加入表格，不想加入表格的话可以注释掉</span></span><br><span class="line">the_table = plt.table(cellText=cell_text,</span><br><span class="line">                      rowLabels=rows,</span><br><span class="line">                      rowColours=colors,</span><br><span class="line">                      colLabels=columns,</span><br><span class="line">                      loc=<span class="string">&#x27;bottom&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Adjust layout to make room for the table:</span></span><br><span class="line">plt.subplots_adjust(left=<span class="number">0.2</span>, bottom=<span class="number">0.2</span>)</span><br><span class="line"></span><br><span class="line">plt.ylabel(<span class="string">&quot;Loss in $&#123;0&#125;&#x27;s&quot;</span>.format(value_increment))</span><br><span class="line">plt.yticks(values * value_increment, [<span class="string">&#x27;%d&#x27;</span> % val <span class="keyword">for</span> val <span class="keyword">in</span> values])</span><br><span class="line">plt.xticks([]) <span class="comment">#如果不加入表格的话，可以注释掉这一行</span></span><br><span class="line">plt.title(<span class="string">&#x27;Loss by Disaster&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img data-src="https://raw.githubusercontent.com/lyf35/blog_figures/main/img/20210109161530.png" alt="png" /></p>
<h2 id="饼图"><a class="markdownIt-Anchor" href="#饼图"></a> 饼图</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Pie chart, where the slices will be ordered and plotted counter-clockwise:</span></span><br><span class="line">labels = <span class="string">&#x27;Frogs&#x27;</span>, <span class="string">&#x27;Hogs&#x27;</span>, <span class="string">&#x27;Dogs&#x27;</span>, <span class="string">&#x27;Logs&#x27;</span></span><br><span class="line">sizes = [<span class="number">15</span>, <span class="number">30</span>, <span class="number">45</span>, <span class="number">10</span>]</span><br><span class="line">explode = (<span class="number">0</span>, <span class="number">0.1</span>, <span class="number">0.2</span>, <span class="number">0</span>) <span class="comment">#代表是否将某一个扇形区域分开</span></span><br><span class="line"></span><br><span class="line">fig1, ax1 = plt.subplots()</span><br><span class="line">ax1.pie(sizes, explode=explode, labels=labels, autopct=<span class="string">&#x27;%1.1f%%&#x27;</span>,</span><br><span class="line">        shadow=<span class="literal">True</span>, startangle=<span class="number">90</span>)</span><br><span class="line">ax1.axis(<span class="string">&#x27;equal&#x27;</span>)  <span class="comment"># Equal aspect ratio ensures that pie is drawn as a circle.</span></span><br></pre></td></tr></table></figure>
<p><img data-src="https://raw.githubusercontent.com/lyf35/blog_figures/main/img/20210109161535.png" alt="png" /></p>
<h2 id="散点图"><a class="markdownIt-Anchor" href="#散点图"></a> 散点图</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">volume = np.random.rayleigh(<span class="number">27</span>, size=<span class="number">40</span>)</span><br><span class="line">amount = np.random.poisson(<span class="number">10</span>, size=<span class="number">40</span>)</span><br><span class="line">ranking = np.random.normal(size=<span class="number">40</span>)</span><br><span class="line">price = np.random.uniform(<span class="number">1</span>, <span class="number">10</span>, size=<span class="number">40</span>)</span><br><span class="line"></span><br><span class="line">fig, ax = plt.subplots()</span><br><span class="line"></span><br><span class="line"><span class="comment"># Because the price is much too small when being provided as size for ``s``, </span></span><br><span class="line"><span class="comment"># we normalize it to some useful point sizes, s=0.3*(price*3)**2</span></span><br><span class="line">scatter = ax.scatter(volume, amount, c=ranking, s=<span class="number">0.3</span>*(price*<span class="number">3</span>)**<span class="number">2</span>, vmin=<span class="number">-3</span>, vmax=<span class="number">3</span>, cmap=<span class="string">&quot;Spectral&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Produce a legend for the ranking (colors). Even though there are 40 different</span></span><br><span class="line"><span class="comment"># rankings, we only want to show 5 of them in the legend.</span></span><br><span class="line">legend1 = ax.legend(*scatter.legend_elements(num=<span class="number">5</span>), loc=<span class="string">&quot;upper left&quot;</span>, title=<span class="string">&quot;Ranking&quot;</span>)</span><br><span class="line">ax.add_artist(legend1)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Produce a legend for the price (sizes). Because we want to show the prices</span></span><br><span class="line"><span class="comment"># in dollars, we use the *func* argument to supply the inverse of the function</span></span><br><span class="line"><span class="comment"># used to calculate the sizes from above. The *fmt* ensures to show the price</span></span><br><span class="line"><span class="comment"># in dollars. Note how we target at 5 elements here, but obtain only 4 in the</span></span><br><span class="line"><span class="comment"># created legend due to the automatic round prices that are chosen for us.</span></span><br><span class="line">kw = dict(prop=<span class="string">&quot;sizes&quot;</span>, num=<span class="number">5</span>, color=scatter.cmap(<span class="number">0.7</span>), fmt=<span class="string">&quot;$ &#123;x:.2f&#125;&quot;</span>, func=<span class="keyword">lambda</span> s: np.sqrt(s/<span class="number">.3</span>)/<span class="number">3</span>)</span><br><span class="line">legend2 = ax.legend(*scatter.legend_elements(**kw), loc=<span class="string">&quot;lower right&quot;</span>, title=<span class="string">&quot;Price&quot;</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img data-src="https://raw.githubusercontent.com/lyf35/blog_figures/main/img/20210109161549.png" alt="png" /></p>
<h2 id="对数坐标"><a class="markdownIt-Anchor" href="#对数坐标"></a> 对数坐标</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 注：成功运行这段程序需要更新matplotlib的版本</span></span><br><span class="line"><span class="comment"># Data for plotting</span></span><br><span class="line">t = np.arange(<span class="number">0.01</span>, <span class="number">20.0</span>, <span class="number">0.01</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create figure</span></span><br><span class="line">fig, ((ax1, ax2), (ax3, ax4)) = plt.subplots(<span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># log y axis</span></span><br><span class="line">ax1.semilogy(t, np.exp(-t / <span class="number">5.0</span>))</span><br><span class="line">ax1.set(title=<span class="string">&#x27;semilogy&#x27;</span>)</span><br><span class="line">ax1.grid()</span><br><span class="line"></span><br><span class="line"><span class="comment"># log x axis</span></span><br><span class="line">ax2.semilogx(t, np.sin(<span class="number">2</span> * np.pi * t))</span><br><span class="line">ax2.set(title=<span class="string">&#x27;semilogx&#x27;</span>)</span><br><span class="line">ax2.grid()</span><br><span class="line"></span><br><span class="line"><span class="comment"># log x and y axis</span></span><br><span class="line">ax3.loglog(t, <span class="number">20</span> * np.exp(-t / <span class="number">10.0</span>))</span><br><span class="line">ax3.set_xscale(<span class="string">&#x27;log&#x27;</span>, base=<span class="number">2</span>)</span><br><span class="line">ax3.set(title=<span class="string">&#x27;loglog base 2 on x&#x27;</span>)</span><br><span class="line">ax3.grid()</span><br><span class="line"></span><br><span class="line"><span class="comment"># With errorbars: clip non-positive values</span></span><br><span class="line"><span class="comment"># Use new data for plotting</span></span><br><span class="line">x = <span class="number">10.0</span>**np.linspace(<span class="number">0.0</span>, <span class="number">2.0</span>, <span class="number">20</span>)</span><br><span class="line">y = x**<span class="number">2.0</span></span><br><span class="line"></span><br><span class="line">ax4.set_xscale(<span class="string">&quot;log&quot;</span>, nonpositive=<span class="string">&#x27;clip&#x27;</span>)</span><br><span class="line">ax4.set_yscale(<span class="string">&quot;log&quot;</span>, nonpositive=<span class="string">&#x27;clip&#x27;</span>)</span><br><span class="line">ax4.set(title=<span class="string">&#x27;Errorbars go negative&#x27;</span>)</span><br><span class="line">ax4.errorbar(x, y, xerr=<span class="number">0.1</span> * x, yerr=<span class="number">5.0</span> + <span class="number">0.75</span> * y)</span><br><span class="line"><span class="comment"># ylim must be set after errorbar to allow errorbar to autoscale limits</span></span><br><span class="line">ax4.set_ylim(bottom=<span class="number">0.1</span>)</span><br><span class="line"></span><br><span class="line">fig.tight_layout()</span><br></pre></td></tr></table></figure>
<p><img data-src="https://raw.githubusercontent.com/lyf35/blog_figures/main/img/20210109161557.png" alt="png" /></p>
<h2 id="极坐标"><a class="markdownIt-Anchor" href="#极坐标"></a> 极坐标</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">r = np.arange(<span class="number">0</span>, <span class="number">2</span>, <span class="number">0.01</span>)</span><br><span class="line">theta = <span class="number">2</span> * np.pi * r</span><br><span class="line"></span><br><span class="line">fig, ax = plt.subplots(subplot_kw=&#123;<span class="string">&#x27;projection&#x27;</span>: <span class="string">&#x27;polar&#x27;</span>&#125;)</span><br><span class="line">ax.plot(theta, r)</span><br><span class="line">ax.set_rmax(<span class="number">2</span>)</span><br><span class="line">ax.set_rticks([<span class="number">0.5</span>, <span class="number">1</span>, <span class="number">1.5</span>, <span class="number">2</span>])  <span class="comment"># Less radial ticks</span></span><br><span class="line">ax.set_rlabel_position(<span class="number">-22.5</span>)  <span class="comment"># Move radial labels away from plotted line</span></span><br><span class="line">ax.grid(<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">ax.set_title(<span class="string">&quot;A line plot on a polar axis&quot;</span>, va=<span class="string">&#x27;bottom&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p><img data-src="https://raw.githubusercontent.com/lyf35/blog_figures/main/img/20210109161605.png" alt="png" /></p>
<h1 id="相关绘图工具"><a class="markdownIt-Anchor" href="#相关绘图工具"></a> 相关绘图工具</h1>
<h2 id="seaborn"><a class="markdownIt-Anchor" href="#seaborn"></a> Seaborn</h2>
<p>Seaborn是一个基于matplotlib的绘图函数库，它在牺牲了一定灵活性的前提下，将一些统计相关的常用绘图操作封装为一个函数，从而使得作图变得更加方便。例如使用seaborn可以容易地绘制出箱线图、矩阵散点图、热力图、（广义的）线性回归图等多种复杂的图像。</p>
<p>由于seaborn是基于matplotlib的上层函数，因此设置matplotlib的一些绘图格式也一样会影响到seaborn的绘图效果。</p>
<p>seaborn的官网：<span class="exturl" data-url="aHR0cDovL3NlYWJvcm4ucHlkYXRhLm9yZy8=">http://seaborn.pydata.org/<i class="fa fa-external-link-alt"></i></span></p>
<p>官方教程：<span class="exturl" data-url="aHR0cDovL3NlYWJvcm4ucHlkYXRhLm9yZy90dXRvcmlhbC5odG1s">http://seaborn.pydata.org/tutorial.html<i class="fa fa-external-link-alt"></i></span></p>
<p>下面的代码示例是使用seaborn绘制线性回归图（摘自官网的示例）：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line">sns.set_theme(color_codes=<span class="literal">True</span>)</span><br><span class="line">tips = sns.load_dataset(<span class="string">&quot;tips&quot;</span>)</span><br><span class="line">sns.regplot(x=<span class="string">&quot;total_bill&quot;</span>, y=<span class="string">&quot;tip&quot;</span>, data=tips)</span><br></pre></td></tr></table></figure>
<p><img data-src="https://raw.githubusercontent.com/lyf35/blog_figures/main/img/20210109170725.png" alt="img" /></p>
<p>从图中可以看到，<code>regplot</code>函数自动将数据绘制为散点图，并同时在图中绘制出了这些数据点的回归直线以及95%的置信区间。这一操作要比matplotlib简便地多。</p>
<p>此外，官网给出了一些不同种类图像的绘图示例，可以参考：<span class="exturl" data-url="aHR0cDovL3NlYWJvcm4ucHlkYXRhLm9yZy9leGFtcGxlcy9pbmRleC5odG1s">http://seaborn.pydata.org/examples/index.html<i class="fa fa-external-link-alt"></i></span></p>
<h2 id="地理绘图"><a class="markdownIt-Anchor" href="#地理绘图"></a> 地理绘图</h2>
<p>如果要绘制与地理相关的一些图像，可以使用一些基于matplotlib的上层工具，例如：</p>
<p>geoplot：<span class="exturl" data-url="aHR0cHM6Ly9yZXNpZGVudG1hcmlvLmdpdGh1Yi5pby9nZW9wbG90L3F1aWNrc3RhcnQvcXVpY2tzdGFydC5odG1s">https://residentmario.github.io/geoplot/quickstart/quickstart.html<i class="fa fa-external-link-alt"></i></span></p>
<p>Basemap：<span class="exturl" data-url="aHR0cHM6Ly9tYXRwbG90bGliLm9yZy9iYXNlbWFwLw==">https://matplotlib.org/basemap/<i class="fa fa-external-link-alt"></i></span></p>
<h1 id="参考"><a class="markdownIt-Anchor" href="#参考"></a> 参考</h1>
<ol>
<li>Python for Data Analysis, 2nd Edition.</li>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cua2VzY2kuY29tL2hvbWUvY29sdW1uLzViODdhNzgxMzE5MDJmMDAwZjY2ODU0OQ==">https://www.kesci.com/home/column/5b87a78131902f000f668549<i class="fa fa-external-link-alt"></i></span></li>
<li><span class="exturl" data-url="aHR0cHM6Ly96aHVhbmxhbi56aGlodS5jb20vcC8xMTM4NDIyNzA=">https://zhuanlan.zhihu.com/p/113842270<i class="fa fa-external-link-alt"></i></span></li>
<li><span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI3ODI1NDUxL2FydGljbGUvZGV0YWlscy84MTQ4MTUzNA==">https://blog.csdn.net/qq_27825451/article/details/81481534<i class="fa fa-external-link-alt"></i></span></li>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cuamlhbnNodS5jb20vcC8zOTM3Nzk4ZDY0NWI=">https://www.jianshu.com/p/3937798d645b<i class="fa fa-external-link-alt"></i></span></li>
<li><span class="exturl" data-url="aHR0cHM6Ly96aHVhbmxhbi56aGlodS5jb20vcC84MzU4ODY1MQ==">https://zhuanlan.zhihu.com/p/83588651<i class="fa fa-external-link-alt"></i></span></li>
</ol>

    </div>

    
    
    
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>Yufei Luo
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="http://lyf35.github.io/2021/04/02/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90-matplotlib/" title="数据分析-matplotlib">http://lyf35.github.io/2021/04/02/数据分析-matplotlib/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</span> 许可协议。转载请注明出处！
  </li>
</ul>
</div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/" rel="tag"><i class="fa fa-tag"></i> 数据分析</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2021/04/02/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90-datetime/" rel="prev" title="数据分析-datetime">
      <i class="fa fa-chevron-left"></i> 数据分析-datetime
    </a></div>
      <div class="post-nav-item">
    <a href="/2021/04/02/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-%E6%A0%B8%E6%96%B9%E6%B3%95/" rel="next" title="机器学习-核方法">
      机器学习-核方法 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



        </div>
        
    <div class="comments" id="gitalk-container"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2020 – 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Yufei Luo</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
      <span class="post-meta-item-text">站点总字数：</span>
    <span title="站点总字数">838k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">12:42</span>
</div>
  <div class="powered-by">由 <span class="exturl theme-link" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & <span class="exturl theme-link" data-url="aHR0cHM6Ly90aGVtZS1uZXh0LmpzLm9yZy9waXNjZXMv">NexT.Pisces</span> 强力驱动
  </div>

        






<script data-pjax>
  (function() {
    function leancloudSelector(url) {
      url = encodeURI(url);
      return document.getElementById(url).querySelector('.leancloud-visitors-count');
    }

    function addCount(Counter) {
      const visitors = document.querySelector('.leancloud_visitors');
      const url = decodeURI(visitors.id);
      const title = visitors.dataset.flagTitle;

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url })))
        .then(response => response.json())
        .then(({ results }) => {
          if (results.length > 0) {
            const counter = results[0];
            leancloudSelector(url).innerText = counter.time + 1;
            Counter('put', '/classes/Counter/' + counter.objectId, { time: { '__op': 'Increment', 'amount': 1 } })
              .catch(error => {
                console.error('Failed to save visitor count', error);
              });
          } else {
              Counter('post', '/classes/Counter', { title, url, time: 1 })
                .then(response => response.json())
                .then(() => {
                  leancloudSelector(url).innerText = 1;
                })
                .catch(error => {
                  console.error('Failed to create', error);
                });
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    function showTime(Counter) {
      const visitors = document.querySelectorAll('.leancloud_visitors');
      const entries = [...visitors].map(element => {
        return decodeURI(element.id);
      });

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url: { '$in': entries } })))
        .then(response => response.json())
        .then(({ results }) => {
          for (let url of entries) {
            let target = results.find(item => item.url === url);
            leancloudSelector(url).innerText = target ? target.time : 0;
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    let { app_id, app_key, server_url } = {"enable":true,"app_id":"ypNNXSdcGIIoldC5BBmViS2g-gzGzoHsz","app_key":"0TDwohU7eO4yHTn4tley8PtE","server_url":"https://leancloud.cn/dashboard/data.html?appid=ypNNXSdcGIIoldC5BBmViS2g-gzGzoHsz#/","security":false};
    function fetchData(api_server) {
      const Counter = (method, url, data) => {
        return fetch(`${api_server}/1.1${url}`, {
          method,
          headers: {
            'X-LC-Id'     : app_id,
            'X-LC-Key'    : app_key,
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data)
        });
      };
      if (CONFIG.page.isPost) {
        if (CONFIG.hostname !== location.hostname) return;
        addCount(Counter);
      } else if (document.querySelectorAll('.post-title-link').length >= 1) {
        showTime(Counter);
      }
    }

    const api_server = app_id.slice(-9) !== '-MdYXbMMI' ? server_url : `https://${app_id.slice(0, 8).toLowerCase()}.api.lncldglobal.com`;

    if (api_server) {
      fetchData(api_server);
    } else {
      fetch('https://app-router.leancloud.cn/2/route?appId=' + app_id)
        .then(response => response.json())
        .then(({ api_server }) => {
          fetchData('https://' + api_server);
        });
    }
  })();
</script>


      </div>
    </footer>
  </div>

  
  <script size="300" alpha="0.6" zIndex="-1" src="//cdn.jsdelivr.net/npm/ribbon.js@1/dist/ribbon.min.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/next-theme/pjax@0/pjax.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/medium-zoom@1/dist/medium-zoom.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/lozad@1/dist/lozad.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/pangu@4/dist/browser/pangu.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/next-boot.js"></script>

  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '.page-configurations',
    '.main-inner',
    '.post-toc-wrap',
    '.languages',
    '.pjax'
  ],
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

document.addEventListener('pjax:success', () => {
  pjax.executeScripts(document.querySelectorAll('script[data-pjax], .pjax script'));
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  const hasTOC = document.querySelector('.post-toc');
  document.querySelector('.sidebar-inner').classList.toggle('sidebar-nav-active', hasTOC);
  document.querySelector(hasTOC ? '.sidebar-nav-toc' : '.sidebar-nav-overview').click();
  NexT.utils.updateSidebarPosition();
});
</script>


  
  <script data-pjax>
    (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      bp.src = (curProtocol === 'https') ? 'https://zz.bdstatic.com/linksubmit/push.js' : 'http://push.zhanzhang.baidu.com/push.js';
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>




  
<script src="/js/local-search.js"></script>









<script data-pjax>
document.querySelectorAll('.pdfobject-container').forEach(element => {
  let url = element.dataset.target;
  let pdfOpenParams = {
    navpanes : 0,
    toolbar  : 0,
    statusbar: 0,
    pagemode : 'thumbs',
    view     : 'FitH'
  };
  let pdfOpenFragment = '#' + Object.entries(pdfOpenParams).map(([key, value]) => `${key}=${encodeURIComponent(value)}`).join('&');
  let fullURL = `/lib/pdf/web/viewer.html?file=${encodeURIComponent(url)}${pdfOpenFragment}`;

  if (NexT.utils.supportsPDFs()) {
    element.innerHTML = `<embed class="pdfobject" src="${url + pdfOpenFragment}" type="application/pdf" style="height: ${element.dataset.height};">`;
  } else {
    element.innerHTML = `<iframe src="${fullURL}" style="height: ${element.dataset.height};" frameborder="0"></iframe>`;
  }
});
</script>


<script data-pjax>
if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.init({
      theme    : 'forest',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    }, '.mermaid');
  }, window.mermaid);
}
</script>


    <div class="pjax">
  

  
      
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/katex@0/dist/katex.min.css">
  <script src="//cdn.jsdelivr.net/npm/katex@0/dist/contrib/copy-tex.min.js"></script>
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/katex@0/dist/contrib/copy-tex.min.css">


  

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css">

<script>
NexT.utils.loadComments('#gitalk-container', () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID    : '4dcdc02d24075b0e9d3a',
      clientSecret: '53cf2cb8b89b9d4bba922bb19bda1290f0d0bf95',
      repo        : 'lyf35.github.io',
      owner       : 'lyf35',
      admin       : ['lyf35'],
      id          : 'ef40c958699f2a4af4b9e4adc0f6b709',
        language: 'zh-CN',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script>

    </div>
</body>
</html>
